{"remainingRequest":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/src/components/Hist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/src/components/Hist.vue","mtime":1610524424000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/sushi_demo 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKaW1wb3J0IEJ1cyBmcm9tICcuLi9hc3NldHMvYnVzLmpzJzsKaW1wb3J0IHsgJHNlbmRlciwgJHJlY2VpdmVyIH0gZnJvbSAidnVlLWNvbW11bmljYXRpb24iOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7ClZ1ZS5wcm90b3R5cGUuJHNlbmRlciA9ICRzZW5kZXI7ClZ1ZS5wcm90b3R5cGUuJHJlY2VpdmVyID0gJHJlY2VpdmVyOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBkYXRhOnVuZGVmaW5lZCwKICAgICAgc3ZnOnVuZGVmaW5lZCwKICAgICAgeDp1bmRlZmluZWQsCiAgICAgIHk6dW5kZWZpbmVkLAogICAgICB5QXhpczp1bmRlZmluZWQsCiAgICAgIHU6dW5kZWZpbmVkLAogICAgICBoZWlnaHQxOnVuZGVmaW5lZCwKICAgICAgc2VsZWN0X2RhdGFfZnJvbV9oaXN0OnVuZGVmaW5lZAogICAgfQogIH0sCiAgY3JlYXRlZCgpewogICAgQnVzLiRvbigiTWFwX3NlbGVjdF9kYXRhIiwgKHZhbCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdmFsO30pfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZW5lcmF0ZUhpc3QoKTsKICAgIHRoaXMuaGFuZGxlKCkKICB9LAogIC8vd2F0Y2g6e2hhbmRsZShuZXd2YWwpewogICAgLy90aGlzLmFnZT1uZXd2YWwsCiAgICAvL3RoaXMuZ2VuZXJhdGVIaXN0KCl9fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGU6IGZ1bmN0aW9uICgpIHsKICAgIEJ1cy4kb24oIk1hcF9zZWxlY3RfZGF0YSIsICh2YWwpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHZhbDsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlaGlzdCgpCiAgICAgICAgICAgICAgfSl9LAogICAgZ2VuZXJhdGVIaXN0KCkgewogICAgICAvL2xldCBhZ2UgPSB0aGlzLiRyb290LmFnZV9zZWxlY3QKICAgICAgdmFyIG1pbiA9IDEwOwogICAgICB2YXIgbWF4ID0gNzA7CiAgICAgIHZhciBkb21haW4gPSBbbWluLG1heF07CiAgICAgIHZhciBhID0gWzE5LDE5LDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIwLDIxLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDIzLDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI0LDI1LDI1LDI1LDI1LDI1LDI1LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI2LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI3LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI4LDI5LDI5LDI5LDI5LDI5LDMwLDMwLDMwLDMwLDMwLDMxLDMxLDMxLDMxLDMxLDMxLDMxLDMxLDMyLDMyLDMyLDMyLDMyLDMyLDMyLDMyLDMzLDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM1LDM2LDM2LDM2LDM2LDM2LDM2LDM2LDM2LDM2LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM3LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDM4LDQxLDQxLDQxLDQxLDQxLDQxLDQxLDQxLDQxLDQxLDQxLDQyLDQyLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQzLDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ0LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ1LDQ2LDQ2LDQ2LDQ2LDQ2LDQ2LDQ2LDQ2LDQ2LDQ2LDQ3LDQ3LDQ3LDQ3LDQ3LDQ3LDQ3LDQ3LDQ3LDQ3LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ4LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDQ5LDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDUzLDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU1LDU2LDU2LDU2LDU2LDU2LDU2LDU2LDU2LDU2LDU2LDU3LDU3LDU3LDU3LDU3LDU3LDU3LDU3LDU3LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU4LDU5LDU5LDU5LDU5LDYxLDYxLDYxLDYxLDYxLDYxLDYxLDYxLDYxLDYxLDYyLDYyLDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY0LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1LDY1XQogICAgICB2YXIgbWFyZ2luID0geyB0b3A6IDMwLCByaWdodDogMzAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwIH0sCiAgICAgICAgd2lkdGgxID0gNTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQKICAgICAgdGhpcy5oZWlnaHQxID0gMjcwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CiAgICAgIGNvbnN0IHN2ZzEgPSBkMwogICAgICAgIC5zZWxlY3QoIiNoaXN0IikKICAgICAgICAuYXBwZW5kKCJzdmciKQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoMSArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodDEgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKICAgICAgICB2YXIgeCA9IGQzCiAgICAgICAgICAuc2NhbGVMaW5lYXIoKQogICAgICAgICAgLmRvbWFpbihkb21haW4pIAogICAgICAgICAgLnJhbmdlKFswLCB3aWR0aDFdKTsgCiAgICAgICAgCiAgICAgICAgc3ZnMS5hcHBlbmQoImciKQogICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgdGhpcy5oZWlnaHQxICsgIikiKQogICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSk7CiAgICAgICAgICAvLyBZIGF4aXM6IGluaXRpYWxpemF0aW9uCiAgICAgICAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpCiAgICAgICAgICAucmFuZ2UoW3RoaXMuaGVpZ2h0MSwgMF0pOwogICAgICAgIHRoaXMueUF4aXMgPSBzdmcxLmFwcGVuZCgiZyIpCiAgICAgICAgdmFyIG5CaW49MjQKICAgICAgICB2YXIgaGlzdG9ncmFtID0gZDMKICAgICAgICAgIC5oaXN0b2dyYW0oKQogICAgICAgICAgLmRvbWFpbih4LmRvbWFpbigpKSAvLyB0aGVuIHRoZSBkb21haW4gb2YgdGhlIGdyYXBoaWMKICAgICAgICAgIC50aHJlc2hvbGRzKHgudGlja3MobkJpbikpOyAvLyB0aGVuIHRoZSBudW1iZXJzIG9mIGJpbnMKCiAgICAgICAgLy8gQW5kIGFwcGx5IHRoaXMgZnVuY3Rpb24gdG8gZGF0YSB0byBnZXQgdGhlIGJpbnMKICAgICAgICB2YXIgYmlucyA9IGhpc3RvZ3JhbShhKTsKICAgICAgICAvLyBBZGQgdGhlIHN2ZyBlbGVtZW50IHRvIHRoZSBib2R5IGFuZCBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGdyYXBoCgogICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgoYmlucywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5sZW5ndGg7IH0pXSk7ICAgLy8gZDMuaGlzdCBoYXMgdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgWSBheGlzIG9idmlvdXNseQogICAgICAgIHRoaXMueUF4aXMKICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1cmF0aW9uKDEwMDApCiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpOwogICAgICAgIHRoaXMudSA9IHN2ZzEKICAgICAgICAgIC5zZWxlY3RBbGwoInJlY3QiKQogICAgICAgICAgLmRhdGEoYmlucykKCiAgICAgICAgdGhpcy51LmVudGVyKCkKICAgICAgICAgIC5hcHBlbmQoInJlY3QiKQogICAgICAgICAgLmF0dHIoIngiLCAxKQogICAgICAgICAgLm1lcmdlKHRoaXMudSkKICAgICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCAoZCk9PnRoaXMuaGVpZ2h0MSAtIHkoZC5sZW5ndGgpKQogICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uKGQpIHsgCiAgICAgICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB4KGQueDApICsgIiwiICsgeShkLmxlbmd0aCkgKyAiKSI7IAogICAgICAgICAgfSkKICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZC54MSkgLSB4KGQueDApIC0gMX0pCiAgICAgICAgICAuYXR0cigiZmlsbCIsICIjNjQ5NUVEIikKICAgICAgICAgIHRoaXMueCA9IHgKICAgICAgICAgIHRoaXMueSA9IHkKICAgICAgICAgIHRoaXMuc3ZnID0gc3ZnMX0sIAp1cGRhdGVoaXN0KCl7CnZhciBhbGxfZGF0YSA9IHRoaXMuZGF0YQp2YXIgYWdlID0gW10KZm9yKHZhciBpPTAsIGxlbj10aGlzLmRhdGEubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogIHZhciBkID0gdGhpcy5kYXRhW2ldCiAgYWdlLnB1c2gocGFyc2VJbnQoZC5wcm9wZXJ0aWVzLmFnZSkpfQp2YXIgc3ZnMSA9IHRoaXMuc3ZnCnZhciB4ID0gdGhpcy54CnZhciB5ID0gdGhpcy55Ci8vIFRoZSBudW1iZXIgb2YgYmlucyAKdmFyIG5CaW49MjQKdmFyIGhpc3RvZ3JhbSA9IGQzCiAgLmhpc3RvZ3JhbSgpCiAgLmRvbWFpbih4LmRvbWFpbigpKSAvLyB0aGVuIHRoZSBkb21haW4gb2YgdGhlIGdyYXBoaWMKICAudGhyZXNob2xkcyh4LnRpY2tzKG5CaW4pKTsgLy8gdGhlbiB0aGUgbnVtYmVycyBvZiBiaW5zCgovLyBBbmQgYXBwbHkgdGhpcyBmdW5jdGlvbiB0byBkYXRhIHRvIGdldCB0aGUgYmlucwp2YXIgYmlucyA9IGhpc3RvZ3JhbShhZ2UpOwovLyBBZGQgdGhlIHN2ZyBlbGVtZW50IHRvIHRoZSBib2R5IGFuZCBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGdyYXBoCnkuZG9tYWluKFswLCBkMy5tYXgoYmlucywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5sZW5ndGg7IH0pXSk7ICAgLy8gZDMuaGlzdCBoYXMgdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgWSBheGlzIG9idmlvdXNseQp0aGlzLnlBeGlzCi50cmFuc2l0aW9uKCkKLmR1cmF0aW9uKDEwMDApCi5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKCnRoaXMudSA9IHN2ZzEKICAuc2VsZWN0QWxsKCJyZWN0IikKICAuZGF0YShiaW5zKQoKICB0aGlzLnUuZW50ZXIoKQogIC5hcHBlbmQoInJlY3QiKQogIC5hdHRyKCJ4IiwgMSkKICAubWVyZ2UodGhpcy51KQogIC50cmFuc2l0aW9uKCkKICAuYXR0cignaGVpZ2h0JywgKGQpPT50aGlzLmhlaWdodDEgLSB5KGQubGVuZ3RoKSkKICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24oZCkgeyAKICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB4KGQueDApICsgIiwiICsgeShkLmxlbmd0aCkgKyAiKSI7IAogIH0pCiAgLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24oZCkgewogICAgcmV0dXJuIHgoZC54MSkgLSB4KGQueDApIC0gMX0pCiAgLmF0dHIoImZpbGwiLCAiIzY0OTVFRCIpCiAgLmF0dHIoImlkIixmdW5jdGlvbihkKXsKICAgIHJldHVybiAyMCsyKih4KGQueDApLTcwKS8xNAogIH0pCnZhciBzZWxlY3RfYWdlX2J5X2NvbHVtbiA9IFtdCnRoaXMudS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7CiAgICB2YXIgdGhhdCA9IHRoaXMKICAgIHNlbGVjdF9hZ2VfYnlfY29sdW1uLnB1c2godGhhdC5pZCkKICAgIGQzLnNlbGVjdCh0aGF0KQogICAgLnRyYW5zaXRpb24oKQogICAgLmR1cmF0aW9uKDUwMCkKICAgIC5hdHRyKCJmaWxsIiwgIiNCQzhGOEYiKTsKdmFyIHNlbGVjdF9kYXRhX2Zyb21faGlzdCA9IFtdCmZvcihpPTAsIGxlbj1hbGxfZGF0YS5sZW5ndGgtMTsgaTxsZW47IGkrKyl7CiAgZCA9IHBhcnNlSW50KGFsbF9kYXRhW2ldLnByb3BlcnRpZXMuYWdlKQogIGZvcih2YXIgaj0wLGxlbjI9c2VsZWN0X2FnZV9ieV9jb2x1bW4ubGVuZ3RoO2o8bGVuMjtqKyspewogICAgaWYoZC0yPHNlbGVjdF9hZ2VfYnlfY29sdW1uW2pdKXsKICAgICAgaWYgKGQ+c2VsZWN0X2FnZV9ieV9jb2x1bW5bal0tMSl7CiAgICAgIHNlbGVjdF9kYXRhX2Zyb21faGlzdC5wdXNoKGFsbF9kYXRhW2ldKQogICAgfX0KICB9fQpCdXMuJGVtaXQoIkhpc3Rfc2VsZWN0X2RhdGEiLCBzZWxlY3RfZGF0YV9mcm9tX2hpc3QsY29uc29sZS5sb2coJ3NlbGVjdF9kYXRhX2Zyb21faGlzdCcsc2VsZWN0X2RhdGFfZnJvbV9oaXN0KSkKfSkKfX0KfQo="},{"version":3,"sources":["Hist.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hist.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n  <div id=\"hist\">\n     <p>\n      <h4>Distribution of visit against age</h4>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport Bus from '../assets/bus.js';\nimport { $sender, $receiver } from \"vue-communication\";\nimport Vue from 'vue';\nVue.prototype.$sender = $sender;\nVue.prototype.$receiver = $receiver;\nexport default {\n  name: \"App\",\n  data(){\n    return{\n      data:undefined,\n      svg:undefined,\n      x:undefined,\n      y:undefined,\n      yAxis:undefined,\n      u:undefined,\n      height1:undefined,\n      select_data_from_hist:undefined\n    }\n  },\n  created(){\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;})},\n  mounted() {\n    this.generateHist();\n    this.handle()\n  },\n  //watch:{handle(newval){\n    //this.age=newval,\n    //this.generateHist()}},\n  methods: {\n    handle: function () {\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;\n                this.updatehist()\n              })},\n    generateHist() {\n      //let age = this.$root.age_select\n      var min = 10;\n      var max = 70;\n      var domain = [min,max];\n      var a = [19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,30,30,30,30,30,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,33,35,35,35,35,35,35,35,35,35,35,35,35,35,35,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,41,41,41,41,41,41,41,41,41,41,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,53,53,53,53,53,53,53,53,53,53,53,53,53,55,55,55,55,55,55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56,56,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,61,61,61,61,61,61,61,61,61,61,62,62,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65]\n      var margin = { top: 30, right: 30, bottom: 30, left: 50 },\n        width1 = 500 - margin.left - margin.right\n      this.height1 = 270 - margin.top - margin.bottom;\n      const svg1 = d3\n        .select(\"#hist\")\n        .append(\"svg\")\n        .attr(\"width\", width1 + margin.left + margin.right)\n        .attr(\"height\", this.height1 + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        var x = d3\n          .scaleLinear()\n          .domain(domain) \n          .range([0, width1]); \n        \n        svg1.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.height1 + \")\")\n          .call(d3.axisBottom(x));\n          // Y axis: initialization\n        var y = d3.scaleLinear()\n          .range([this.height1, 0]);\n        this.yAxis = svg1.append(\"g\")\n        var nBin=24\n        var histogram = d3\n          .histogram()\n          .domain(x.domain()) // then the domain of the graphic\n          .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n        // And apply this function to data to get the bins\n        var bins = histogram(a);\n        // Add the svg element to the body and set the dimensions and margins of the graph\n\n        y.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n        this.yAxis\n        .transition()\n        .duration(1000)\n        .call(d3.axisLeft(y));\n        this.u = svg1\n          .selectAll(\"rect\")\n          .data(bins)\n\n        this.u.enter()\n          .append(\"rect\")\n          .attr(\"x\", 1)\n          .merge(this.u)\n          .transition()\n          .attr(\"height\", (d)=>this.height1 - y(d.length))\n          .attr(\"transform\", function(d) { \n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n          })\n          .attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1})\n          .attr(\"fill\", \"#6495ED\")\n          this.x = x\n          this.y = y\n          this.svg = svg1}, \nupdatehist(){\nvar all_data = this.data\nvar age = []\nfor(var i=0, len=this.data.length-1; i<len; i++){\n  var d = this.data[i]\n  age.push(parseInt(d.properties.age))}\nvar svg1 = this.svg\nvar x = this.x\nvar y = this.y\n// The number of bins \nvar nBin=24\nvar histogram = d3\n  .histogram()\n  .domain(x.domain()) // then the domain of the graphic\n  .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n// And apply this function to data to get the bins\nvar bins = histogram(age);\n// Add the svg element to the body and set the dimensions and margins of the graph\ny.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\nthis.yAxis\n.transition()\n.duration(1000)\n.call(d3.axisLeft(y));\n\nthis.u = svg1\n  .selectAll(\"rect\")\n  .data(bins)\n\n  this.u.enter()\n  .append(\"rect\")\n  .attr(\"x\", 1)\n  .merge(this.u)\n  .transition()\n  .attr('height', (d)=>this.height1 - y(d.length))\n  .attr(\"transform\", function(d) { \n    return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n  })\n  .attr(\"width\", function(d) {\n    return x(d.x1) - x(d.x0) - 1})\n  .attr(\"fill\", \"#6495ED\")\n  .attr(\"id\",function(d){\n    return 20+2*(x(d.x0)-70)/14\n  })\nvar select_age_by_column = []\nthis.u.on(\"click\",function(){\n    var that = this\n    select_age_by_column.push(that.id)\n    d3.select(that)\n    .transition()\n    .duration(500)\n    .attr(\"fill\", \"#BC8F8F\");\nvar select_data_from_hist = []\nfor(i=0, len=all_data.length-1; i<len; i++){\n  d = parseInt(all_data[i].properties.age)\n  for(var j=0,len2=select_age_by_column.length;j<len2;j++){\n    if(d-2<select_age_by_column[j]){\n      if (d>select_age_by_column[j]-1){\n      select_data_from_hist.push(all_data[i])\n    }}\n  }}\nBus.$emit(\"Hist_select_data\", select_data_from_hist,console.log('select_data_from_hist',select_data_from_hist))\n})\n}}\n}\n</script>"]}]}