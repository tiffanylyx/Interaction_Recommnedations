{"remainingRequest":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/src/components/Hist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/src/components/Hist.vue","mtime":1617178985930},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKaW1wb3J0IEJ1cyBmcm9tICcuLi9hc3NldHMvYnVzLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGRhdGE6dW5kZWZpbmVkLAogICAgICBzdmc6dW5kZWZpbmVkLAogICAgICB4OnVuZGVmaW5lZCwKICAgICAgeTp1bmRlZmluZWQsCiAgICAgIHlBeGlzOnVuZGVmaW5lZCwKICAgICAgdTp1bmRlZmluZWQsCiAgICAgIGhlaWdodDE6dW5kZWZpbmVkLAogICAgICBzZWxlY3RfZGF0YV9mcm9tX2hpc3Q6dW5kZWZpbmVkLAogICAgICBnMV81OnVuZGVmaW5lZCwKICAgICAgdmVydGljZXM6JycKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIEJ1cy4kb24oIk1hcF9zZWxlY3RfZGF0YSIsICh2YWwpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHZhbDt9KSwKICAgIEJ1cy4kb24oIk5ld19Qb2V0IiwgKHZhbCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVfb3Zlcl9oaXN0KHZhbCk7fSkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdlbmVyYXRlSGlzdCgpOwogICAgdGhpcy5oYW5kbGUoKQogIH0sCiAgLy93YXRjaDp7aGFuZGxlKG5ld3ZhbCl7CiAgICAvL3RoaXMuYWdlPW5ld3ZhbCwKICAgIC8vdGhpcy5nZW5lcmF0ZUhpc3QoKX19LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZTogZnVuY3Rpb24gKCkgewogICAgQnVzLiRvbigiTWFwX3NlbGVjdF9kYXRhIiwgKHZhbCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdmFsOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVoaXN0KCkKICAgICAgICAgICAgICB9KQogICAgQnVzLiRvbigiR2V0X1ByZWRpY3QiLCh2YWwpID0+IHt0aGlzLkdldF9QcmVkaWN0KHZhbCl9KX0sCiAgICBnZW5lcmF0ZUhpc3QoKSB7CiAgICAgIC8vbGV0IGFnZSA9IHRoaXMuJHJvb3QuYWdlX3NlbGVjdAogICAgICB2YXIgbWluID0gMTg7CiAgICAgIHZhciBtYXggPSA2ODsKICAgICAgdmFyIGRvbWFpbiA9IFttaW4sbWF4XTsKICAgICAgdmFyIGEgPSBbMTksMTksMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjEsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjUsMjUsMjUsMjUsMjUsMjUsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjksMjksMjksMjksMjksMzAsMzAsMzAsMzAsMzAsMzEsMzEsMzEsMzEsMzEsMzEsMzEsMzEsMzIsMzIsMzIsMzIsMzIsMzIsMzIsMzIsMzMsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDIsNDIsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTksNTksNTksNTksNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjIsNjIsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjVdCiAgICAgIHZhciBtYXJnaW4gPSB7IHRvcDogNSwgcmlnaHQ6IDUsIGJvdHRvbTogMzAsIGxlZnQ6IDMwIH0sCiAgICAgICAgd2lkdGgxID0gNDAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQKICAgICAgdGhpcy5oZWlnaHQxID0gMjgwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CiAgICAgIGNvbnN0IHN2ZzEgPSBkMwogICAgICAgIC5zZWxlY3QoIiNoaXN0IikKICAgICAgICAuYXBwZW5kKCJzdmciKQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoMSArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodDEgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKICAgICAgICB2YXIgeCA9IGQzCiAgICAgICAgICAuc2NhbGVMaW5lYXIoKQogICAgICAgICAgLmRvbWFpbihkb21haW4pIAogICAgICAgICAgLnJhbmdlKFswLCB3aWR0aDFdKTsgCgogICAgICAgIHN2ZzEuYXBwZW5kKCJnIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArIHRoaXMuaGVpZ2h0MSArICIpIikKICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpOwogICAgICAgICAgLy8gWSBheGlzOiBpbml0aWFsaXphdGlvbgogICAgICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgICAgLnJhbmdlKFt0aGlzLmhlaWdodDEsIDBdKTsKICAgICAgICB0aGlzLnlBeGlzID0gc3ZnMS5hcHBlbmQoImciKQogICAgICAgIHZhciBuQmluPTIwCiAgICAgICAgdmFyIGhpc3RvZ3JhbSA9IGQzCiAgICAgICAgICAuaGlzdG9ncmFtKCkKICAgICAgICAgIC5kb21haW4oeC5kb21haW4oKSkgLy8gdGhlbiB0aGUgZG9tYWluIG9mIHRoZSBncmFwaGljCiAgICAgICAgICAudGhyZXNob2xkcyh4LnRpY2tzKG5CaW4pKTsgLy8gdGhlbiB0aGUgbnVtYmVycyBvZiBiaW5zCgogICAgICAgIC8vIEFuZCBhcHBseSB0aGlzIGZ1bmN0aW9uIHRvIGRhdGEgdG8gZ2V0IHRoZSBiaW5zCiAgICAgICAgdmFyIGJpbnMgPSBoaXN0b2dyYW0oYSk7CiAgICAgICAgLy8gQWRkIHRoZSBzdmcgZWxlbWVudCB0byB0aGUgYm9keSBhbmQgc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBncmFwaAoKICAgICAgICB5LmRvbWFpbihbMCwgZDMubWF4KGJpbnMsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGVuZ3RoOyB9KV0pOyAgIC8vIGQzLmhpc3QgaGFzIHRvIGJlIGNhbGxlZCBiZWZvcmUgdGhlIFkgYXhpcyBvYnZpb3VzbHkKICAgICAgICB0aGlzLnlBeGlzCiAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgIC5kdXJhdGlvbigxMDAwKQogICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKICAgICAgICB0aGlzLnUgPSBzdmcxCiAgICAgICAgICAuc2VsZWN0QWxsKCJyZWN0IikKICAgICAgICAgIC5kYXRhKGJpbnMpCgogICAgICAgIHRoaXMudS5lbnRlcigpCiAgICAgICAgICAuYXBwZW5kKCJyZWN0IikKICAgICAgICAgIC5hdHRyKCJ4IiwgMSkKICAgICAgICAgIC5tZXJnZSh0aGlzLnUpCiAgICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgKGQpPT50aGlzLmhlaWdodDEgLSB5KGQubGVuZ3RoKSkKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7IAogICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgeChkLngwKSArICIsIiArIHkoZC5sZW5ndGgpICsgIikiOyAKICAgICAgICAgIH0pCiAgICAgICAgICAuYXR0cigid2lkdGgiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIHJldHVybiB4KGQueDEpIC0geChkLngwKSAtIDF9KQogICAgICAgICAgLmF0dHIoImZpbGwiLCAiIzY0OTVFRCIpCiAgICAgICAgICB0aGlzLnggPSB4CiAgICAgICAgICB0aGlzLnkgPSB5CiAgICAgICAgICB0aGlzLnN2ZyA9IHN2ZzEKICAgICAgICAgICAgICAgIHZhciBnMV81ID0gc3ZnMS5hcHBlbmQoImciKS5hdHRyKCJpZCIsImZvcl9pbnRlcmFjdGlvbl9zdWdnZXN0aW9uIik7CiAgICAgICAgdGhpcy5nMV81ID0gZzFfNX0sIAp1cGRhdGVfb3Zlcl9oaXN0KGF1dGhvcil7Ci8vbGV0IHNlbGYgPSB0aGlzCi8vdmFyIGFsbF9kYXRhID0gdGhpcy5kYXRhCgp2YXIgc3ZnMSA9IHRoaXMuc3ZnCnZhciB4ID0gdGhpcy54CnZhciB5ID0gdGhpcy55Ci8vIFRoZSBudW1iZXIgb2YgYmlucyAKdmFyIG5CaW49MjAKdmFyIGhpc3RvZ3JhbSA9IGQzCiAgLmhpc3RvZ3JhbSgpCiAgLmRvbWFpbih4LmRvbWFpbigpKSAvLyB0aGVuIHRoZSBkb21haW4gb2YgdGhlIGdyYXBoaWMKICAudGhyZXNob2xkcyh4LnRpY2tzKG5CaW4pKTsgLy8gdGhlbiB0aGUgbnVtYmVycyBvZiBiaW5zCmlmKGF1dGhvcj09J1N1IFNoaScpewp2YXIgYSA9IFsxOSwxOSwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMCwyMSwyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyMywyNCwyNCwyNCwyNCwyNCwyNCwyNCwyNCwyNCwyNCwyNSwyNSwyNSwyNSwyNSwyNSwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNiwyNywyNywyNywyNywyNywyNywyNywyNywyNywyNywyNywyNywyNywyNywyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOSwyOSwyOSwyOSwyOSwzMCwzMCwzMCwzMCwzMCwzMSwzMSwzMSwzMSwzMSwzMSwzMSwzMSwzMiwzMiwzMiwzMiwzMiwzMiwzMiwzMiwzMywzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNSwzNiwzNiwzNiwzNiwzNiwzNiwzNiwzNiwzNiwzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzNywzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCwzOCw0MSw0MSw0MSw0MSw0MSw0MSw0MSw0MSw0MSw0MSw0MSw0Miw0Miw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0Myw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NCw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0NSw0Niw0Niw0Niw0Niw0Niw0Niw0Niw0Niw0Niw0Niw0Nyw0Nyw0Nyw0Nyw0Nyw0Nyw0Nyw0Nyw0Nyw0Nyw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OCw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw0OSw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1Myw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1NSw1Niw1Niw1Niw1Niw1Niw1Niw1Niw1Niw1Niw1Niw1Nyw1Nyw1Nyw1Nyw1Nyw1Nyw1Nyw1Nyw1Nyw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OCw1OSw1OSw1OSw1OSw2MSw2MSw2MSw2MSw2MSw2MSw2MSw2MSw2MSw2MSw2Miw2Miw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NCw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NSw2NV19CmVsc2UgaWYgKGF1dGhvcj09J0h1YW5nIFRpbmdqaWFuJyl7CiAgYSA9IFsxLCAxNSwgMTksIDE5LCAyMiwgMjIsIDIzLCAyMywgMjQsIDI4LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM3LCAzNywgMzcsIDM5LCAzOSwgMzksIDM5LCAzOSwgMzksIDQwLCA0MCwgNDAsIDQwLCA0MCwgNDAsIDQwLCA0MCwgNDEsIDQxLCA0MSwgNDcsIDQ3LCA0NywgNDksIDQ5LCA1MCwgNTAsIDUwLCA1MCwgNTAsIDUwLCA1MCwgNTEsIDUxLCA1MSwgNTEsIDUxLCA1MSwgNTEsIDU0LCA1NCwgNTQsIDU2LCA1NiwgNTYsIDU2LCA1NiwgNTcsIDU3LCA1NywgNTcsIDU3LCA1NywgNTcsIDU4LCA1OCwgNTgsIDU4LCA1OCwgNTgsIDU4LCA1OCwgNTgsIDU4LCA1OCwgNTgsIDU4LCA1OCwgNTgsIDU4LCA1OCwgNTksIDU5LCA2MCwgNjAsIDYwLCA2MCwgNjAsIDYwLCA2MCwgNjBdfQplbHNlIGlmIChhdXRob3I9PSdPdXlhbmcgWGl1Jyl7CiAgYSA9IFsxLCA0LCA0LCA1LCA2LCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMiwgMjIsIDI0LCAyNSwgMjYsIDI2LCAyNiwgMjYsIDI2LCAyNiwgMjYsIDI3LCAyNywgMjcsIDI3LCAyNywgMjgsIDI4LCAyOCwgMjgsIDI4LCAyOCwgMjksIDI5LCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzEsIDMxLCAzMSwgMzEsIDMxLCAzMSwgMzEsIDMyLCAzMiwgMzIsIDMyLCAzMywgMzMsIDMzLCAzMywgMzQsIDM0LCAzNCwgMzQsIDM2LCAzNywgMzgsIDM4LCAzOCwgMzgsIDM4LCAzOCwgMzgsIDM4LCAzOCwgMzgsIDM4LCAzOCwgMzgsIDM4LCAzOCwgMzgsIDM4LCAzOCwgMzgsIDM5LCAzOSwgMzksIDM5LCAzOSwgNDIsIDQzLCA0MywgNDMsIDQ0LCA0NiwgNDcsIDQ3LCA0NywgNDgsIDQ4LCA0OSwgNDksIDQ5LCA0OSwgNTAsIDUwLCA1MCwgNjEsIDYxLCA2MiwgNjIsIDYyLCA2NCwgNjQsIDY1XX0KZWxzZSBpZiAoYXV0aG9yID09ICdYaW4gUWlqaScpewogIGEgPSBbMSwgMTUsIDE2LCAxOCwgMTksIDIzLCAyNSwgMjYsIDI5LCAzMSwgMzMsIDM0LCAzNSwgMzYsIDM4LCAzOSwgMzksIDM5LCAzOSwgMzksIDQwLCA0MCwgNDEsIDQxLCA0MiwgNDMsIDQ3LCA0NywgNDcsIDQ4LCA1MiwgNTIsIDUzLCA1MywgNTQsIDU0LCA1NCwgNTQsIDU0LCA1NSwgNTUsIDU1LCA1NSwgNTUsIDU2LCA1NiwgNTYsIDU3LCA2NCwgNjUsIDY1LCA2NiwgNjYsIDY3LCA2OCwgNjhdCn0KY29uc29sZS5sb2coYSkKLy8gQW5kIGFwcGx5IHRoaXMgZnVuY3Rpb24gdG8gZGF0YSB0byBnZXQgdGhlIGJpbnMKdmFyIGJpbnMgPSBoaXN0b2dyYW0oYSk7Ci8vIEFkZCB0aGUgc3ZnIGVsZW1lbnQgdG8gdGhlIGJvZHkgYW5kIHNldCB0aGUgZGltZW5zaW9ucyBhbmQgbWFyZ2lucyBvZiB0aGUgZ3JhcGgKeS5kb21haW4oWzAsIGQzLm1heChiaW5zLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmxlbmd0aDsgfSldKTsgICAvLyBkMy5oaXN0IGhhcyB0byBiZSBjYWxsZWQgYmVmb3JlIHRoZSBZIGF4aXMgb2J2aW91c2x5CnRoaXMueUF4aXMKLnRyYW5zaXRpb24oKQouZHVyYXRpb24oMTAwMCkKLmNhbGwoZDMuYXhpc0xlZnQoeSkpOwoKdGhpcy51ID0gc3ZnMQogIC5zZWxlY3RBbGwoInJlY3QiKQogIC5kYXRhKGJpbnMpCgogIHRoaXMudS5lbnRlcigpCiAgLmFwcGVuZCgicmVjdCIpCiAgLmF0dHIoIngiLCAxKQogIC5tZXJnZSh0aGlzLnUpCiAgLnRyYW5zaXRpb24oKQogIC5hdHRyKCdoZWlnaHQnLCAoZCk9PnRoaXMuaGVpZ2h0MSAtIHkoZC5sZW5ndGgpKQogIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7IAogICAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHgoZC54MCkgKyAiLCIgKyB5KGQubGVuZ3RoKSArICIpIjsgCiAgfSkKICAuYXR0cigid2lkdGgiLCBmdW5jdGlvbihkKSB7CiAgICByZXR1cm4geChkLngxKSAtIHgoZC54MCkgLSAxfSkKICAuYXR0cigiZmlsbCIsICIjNjQ5NUVEIikKCn0sCnVwZGF0ZWhpc3QoKXsKICB0aGlzLmcxXzUuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCkKbGV0IHNlbGYgPSB0aGlzCnZhciBhbGxfZGF0YSA9IHRoaXMuZGF0YQp2YXIgYWdlID0gW10KZm9yKHZhciBpPTAsIGxlbj10aGlzLmRhdGEubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogIHZhciBkID0gdGhpcy5kYXRhW2ldCiAgYWdlLnB1c2gocGFyc2VJbnQoZC5wcm9wZXJ0aWVzLmFnZSkpfQp2YXIgc3ZnMSA9IHRoaXMuc3ZnCnZhciB4ID0gdGhpcy54CnZhciB5ID0gdGhpcy55Ci8vIFRoZSBudW1iZXIgb2YgYmlucyAKdmFyIG5CaW49MjAKdmFyIGhpc3RvZ3JhbSA9IGQzCiAgLmhpc3RvZ3JhbSgpCiAgLmRvbWFpbih4LmRvbWFpbigpKSAvLyB0aGVuIHRoZSBkb21haW4gb2YgdGhlIGdyYXBoaWMKICAudGhyZXNob2xkcyh4LnRpY2tzKG5CaW4pKTsgLy8gdGhlbiB0aGUgbnVtYmVycyBvZiBiaW5zCgovLyBBbmQgYXBwbHkgdGhpcyBmdW5jdGlvbiB0byBkYXRhIHRvIGdldCB0aGUgYmlucwp2YXIgYmlucyA9IGhpc3RvZ3JhbShhZ2UpOwovLyBBZGQgdGhlIHN2ZyBlbGVtZW50IHRvIHRoZSBib2R5IGFuZCBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGdyYXBoCnkuZG9tYWluKFswLCBkMy5tYXgoYmlucywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5sZW5ndGg7IH0pXSk7ICAgLy8gZDMuaGlzdCBoYXMgdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgWSBheGlzIG9idmlvdXNseQp0aGlzLnlBeGlzCi50cmFuc2l0aW9uKCkKLmR1cmF0aW9uKDEwMDApCi5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKCnRoaXMudSA9IHN2ZzEKICAuc2VsZWN0QWxsKCJyZWN0IikKICAuZGF0YShiaW5zKQoKICB0aGlzLnUuZW50ZXIoKQogIC5hcHBlbmQoInJlY3QiKQogIC5hdHRyKCJ4IiwgMSkKICAubWVyZ2UodGhpcy51KQogIC50cmFuc2l0aW9uKCkKICAuYXR0cignaGVpZ2h0JywgKGQpPT50aGlzLmhlaWdodDEgLSB5KGQubGVuZ3RoKSkKICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24oZCkgeyAKICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB4KGQueDApICsgIiwiICsgeShkLmxlbmd0aCkgKyAiKSI7IAogIH0pCiAgLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24oZCkgewogICAgcmV0dXJuIHgoZC54MSkgLSB4KGQueDApIC0gMX0pCiAgLmF0dHIoImZpbGwiLCAiIzY0OTVFRCIpCiAgLmF0dHIoImlkIixmdW5jdGlvbihkLGkpewogICAgcmV0dXJuIFsxOCtpKjIsaV0KICB9KQp2YXIgc2UgPSBbXQp2YXIgdmVydGljZXMgPSBbXQpmb3IgKGkgPSAwLCBsZW4gPSBiaW5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgZCA9IGJpbnNbaV0KICBzZS5wdXNoKHsnY29vcmRpbmF0ZXMnOlt4KGQueDApLHkoZC5sZW5ndGgpXX0pCiAgaWYoeShkLmxlbmd0aCk8MjQ1KXsKICAgIHZlcnRpY2VzLnB1c2goaSkKICB9Cn0Kc2VsZi52ZXJ0aWNlcyA9IHNlCnNlbGYuR0xPQkFMLlZpc3VhbF9zdGF0ZVsnSGlzdCddWydvdmVyYWxsJ10gPSBzZQpzZWxmLkdMT0JBTC5WaXN1YWxfc3RhdGVbJ0hpc3QnXVsndmlzaXQnXSA9IFtdCgp2YXIgc2VsZWN0X2FnZV9ieV9jb2x1bW4gPSBbXQp0aGlzLnUub24oImNsaWNrIixmdW5jdGlvbigpewogICAgdmFyIHRoYXQgPSB0aGlzCiAgICB2YXIgYWdlID0gdGhhdC5pZC5zcGxpdCgiLCIpWzBdCiAgICBjb25zb2xlLmxvZygnYWdlMTEnLHRoYXQuaWQpCiAgICB2YXIgaW5kZXggPSB0aGF0LmlkLnNwbGl0KCIsIilbMV0KICAgIHNlbGYuR0xPQkFMLk5ld190aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMAogICAgaWYoKHNlbGYuR0xPQkFMLk5ld190aW1lLXNlbGYuR0xPQkFMLk9sZF90aW1lKT4xKXsKICAgIHNlbGYuR0xPQkFMLlZpc3VhbF9zdGF0ZVsnSGlzdCddWyd2aXNpdCddLnB1c2goW2FnZSxpbmRleF0pCiAgICBCdXMuJGVtaXQoImNoYW5nZSIsIHNlbGYuR0xPQkFMLlZpc3VhbF9zdGF0ZVsnSGlzdCddKQogICAgc2VsZi5HTE9CQUwuTG9nX2ZpbGUucHVzaChbJ3RpbWVzdGFtcCcsc2VsZi5HTE9CQUwuTmV3X3RpbWUsImNsaWNrLWhpc3QtaW5kZXgiLGluZGV4LCdcbiddKQogICAgc2VsZi5wb3N0SW50ZXJhY3Rpb24oeyduYW1lJzpzZWxmLkdMT0JBTC5Mb2dfZmlsZX0pCiAgICBzZWxmLkdMT0JBTC5PbGRfdGltZSA9IHNlbGYuR0xPQkFMLk5ld190aW1lfQogICAgc2VsZWN0X2FnZV9ieV9jb2x1bW4gPSBwYXJzZUludChhZ2UpCiAgICBjb25zb2xlLmxvZygnc2VsZWN0X2FnZV9ieV9jb2x1bW4nLHNlbGVjdF9hZ2VfYnlfY29sdW1uKQogICAgZDMuc2VsZWN0KHRoYXQpCiAgICAudHJhbnNpdGlvbigpCiAgICAuZHVyYXRpb24oNTAwKQogICAgLmF0dHIoImZpbGwiLCAib3JhbmdlIik7CnZhciBzZWxlY3RfZGF0YV9mcm9tX2hpc3QgPSBbXQpmb3IoaT0wLCBsZW49YWxsX2RhdGEubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogIGQgPSBwYXJzZUludChhbGxfZGF0YVtpXS5wcm9wZXJ0aWVzLmFnZSkKICAgIGlmKGQ8c2VsZWN0X2FnZV9ieV9jb2x1bW4rMil7CiAgICAgIGlmIChkPnBhcnNlSW50KHNlbGVjdF9hZ2VfYnlfY29sdW1uKS0xKXsKICAgICAgc2VsZWN0X2RhdGFfZnJvbV9oaXN0LnB1c2goYWxsX2RhdGFbaV0pCiAgICB9fQogIH0KY29uc29sZS5sb2coJ2FnZScsc2VsZWN0X2FnZV9ieV9jb2x1bW4pCkJ1cy4kZW1pdCgiSGlzdF9zZWxlY3RfZGF0YSIsIHNlbGVjdF9kYXRhX2Zyb21faGlzdCkKY29uc29sZS5sb2coJ3NlbGVjdF9kYXRhX2Zyb21faGlzdCcsc2VsZWN0X2RhdGFfZnJvbV9oaXN0KQp9KQp0aGlzLnUub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24oKXsKICBkMy5zZWxlY3QodGhpcykKICAgIC50cmFuc2l0aW9uKCkKICAgIC5kdXJhdGlvbig1MDApCiAgICAuYXR0cigiZmlsbCIsICIjNjQ5NUVEIik7Cn0pCn0sCkdldF9QcmVkaWN0KHByZWRpY3RfYWxsKXsKICAKICB0aGlzLmcxXzUuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCkKICBmb3IodmFyIGkgaW4gcHJlZGljdF9hbGwpewogICAgdmFyIHByZWRpY3QgPSBwcmVkaWN0X2FsbFtpXQogICAgdmFyIHBvc2l0aW9uID0gcHJlZGljdFsnQmVoYXZpb3InXQogICAgaWYgKHByZWRpY3RbJ3R5cGUnXT09J0NsaWNrJyl7CiAgICAgIGlmKHByZWRpY3RbJ09iamVjdF9WaWV3J109PSdIaXN0Jyl7CiAgICAgICAgY29uc29sZS5sb2coJ2hlcmVoZXJlJykKICAgICAgICB2YXIgbnVtYmVyID0gcG9zaXRpb25bJ251bWJlciddCiAgICAgICAgY29uc29sZS5sb2coJ251bWJlcicsbnVtYmVyKQogICAgICAgIHZhciBkaXN0ID0gMAogICAgICAgIHZhciBtaW5fZGlzdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWQogICAgICAgIHZhciBkaXNzID0gMAogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnZlcnRpY2VzJyx0aGlzLnZlcnRpY2VzKQogICAgICAgIGZvcihpIGluIHRoaXMudmVydGljZXMpewogICAgICAgICAgdmFyIGQgPSB0aGlzLnZlcnRpY2VzW2ldLmNvb3JkaW5hdGVzWzBdLzE1LjIzNAogICAgICAgICAgY29uc29sZS5sb2coJ2QnLGQpCiAgICAgICAgICBkaXN0ID0gKG51bWJlci1kKSoqMgogICAgICAgICAgaWYgKGRpc3Q8bWluX2Rpc3QpewogICAgICAgICAgICBkaXNzID0gdGhpcy52ZXJ0aWNlc1tpXS5jb29yZGluYXRlcwogICAgICAgICAgICBtaW5fZGlzdCA9IGRpc3QKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coJ2Rpc3MnLGRpc3MpCiAgICAgICAgaWYoZGlzc1sxXSE9MjQ1KXsKICAgICAgICB0aGlzLmcxXzUuYXBwZW5kKCJwYXRoIikKICAgICAgICAuYXR0cigiZCIsIGQzLnN5bWJvbCgpLnR5cGUoZDMuc3ltYm9sU3Rhcikuc2l6ZSgxMDApKQogICAgICAgIC5hdHRyKCJmaWxsIiwgIm9yYW5nZSIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK2Rpc3NbMF0rIiwiK2Rpc3NbMV0rIikiKQoKICAgICAgICB9CgogIC8qCiAgLmF0dHIoJ2N4JywgZGlzcyoxNS4yKQogIC5hdHRyKCdjeScsIDI0NSkKICAuYXR0cigncicsIDcpCiAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpCiAgLmF0dHIoInN0cm9rZS13aWR0aCIsJzRweCcpCiAgLmF0dHIoIm9wYWNpdHkiLDEpCiAgLmF0dHIoJ2ZpbGwnLCAnIzY5YTNiMicpOwoqLwoKCiAgICAgIH0KCn0KfQp9Cn19Cgo="},{"version":3,"sources":["Hist.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA","file":"Hist.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n  <div id=\"hist\">\n     <p>\n      <h4>  Distribution of visit against age</h4>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport Bus from '../assets/bus.js';\n\nexport default {\n  name: \"App\",\n  data(){\n    return{\n      data:undefined,\n      svg:undefined,\n      x:undefined,\n      y:undefined,\n      yAxis:undefined,\n      u:undefined,\n      height1:undefined,\n      select_data_from_hist:undefined,\n      g1_5:undefined,\n      vertices:''\n    }\n  },\n  created(){\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;}),\n    Bus.$on(\"New_Poet\", (val) => {\n                this.update_over_hist(val);})\n  },\n  mounted() {\n    this.generateHist();\n    this.handle()\n  },\n  //watch:{handle(newval){\n    //this.age=newval,\n    //this.generateHist()}},\n  methods: {\n    handle: function () {\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;\n                this.updatehist()\n              })\n    Bus.$on(\"Get_Predict\",(val) => {this.Get_Predict(val)})},\n    generateHist() {\n      //let age = this.$root.age_select\n      var min = 18;\n      var max = 68;\n      var domain = [min,max];\n      var a = [19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,30,30,30,30,30,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,33,35,35,35,35,35,35,35,35,35,35,35,35,35,35,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,41,41,41,41,41,41,41,41,41,41,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,53,53,53,53,53,53,53,53,53,53,53,53,53,55,55,55,55,55,55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56,56,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,61,61,61,61,61,61,61,61,61,61,62,62,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65]\n      var margin = { top: 5, right: 5, bottom: 30, left: 30 },\n        width1 = 400 - margin.left - margin.right\n      this.height1 = 280 - margin.top - margin.bottom;\n      const svg1 = d3\n        .select(\"#hist\")\n        .append(\"svg\")\n        .attr(\"width\", width1 + margin.left + margin.right)\n        .attr(\"height\", this.height1 + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        var x = d3\n          .scaleLinear()\n          .domain(domain) \n          .range([0, width1]); \n\n        svg1.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.height1 + \")\")\n          .call(d3.axisBottom(x));\n          // Y axis: initialization\n        var y = d3.scaleLinear()\n          .range([this.height1, 0]);\n        this.yAxis = svg1.append(\"g\")\n        var nBin=20\n        var histogram = d3\n          .histogram()\n          .domain(x.domain()) // then the domain of the graphic\n          .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n        // And apply this function to data to get the bins\n        var bins = histogram(a);\n        // Add the svg element to the body and set the dimensions and margins of the graph\n\n        y.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n        this.yAxis\n        .transition()\n        .duration(1000)\n        .call(d3.axisLeft(y));\n        this.u = svg1\n          .selectAll(\"rect\")\n          .data(bins)\n\n        this.u.enter()\n          .append(\"rect\")\n          .attr(\"x\", 1)\n          .merge(this.u)\n          .transition()\n          .attr(\"height\", (d)=>this.height1 - y(d.length))\n          .attr(\"transform\", function(d) { \n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n          })\n          .attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1})\n          .attr(\"fill\", \"#6495ED\")\n          this.x = x\n          this.y = y\n          this.svg = svg1\n                var g1_5 = svg1.append(\"g\").attr(\"id\",\"for_interaction_suggestion\");\n        this.g1_5 = g1_5}, \nupdate_over_hist(author){\n//let self = this\n//var all_data = this.data\n\nvar svg1 = this.svg\nvar x = this.x\nvar y = this.y\n// The number of bins \nvar nBin=20\nvar histogram = d3\n  .histogram()\n  .domain(x.domain()) // then the domain of the graphic\n  .thresholds(x.ticks(nBin)); // then the numbers of bins\nif(author=='Su Shi'){\nvar a = [19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,30,30,30,30,30,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,33,35,35,35,35,35,35,35,35,35,35,35,35,35,35,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,41,41,41,41,41,41,41,41,41,41,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,53,53,53,53,53,53,53,53,53,53,53,53,53,55,55,55,55,55,55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56,56,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,61,61,61,61,61,61,61,61,61,61,62,62,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65]}\nelse if (author=='Huang Tingjian'){\n  a = [1, 15, 19, 19, 22, 22, 23, 23, 24, 28, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 37, 37, 37, 39, 39, 39, 39, 39, 39, 40, 40, 40, 40, 40, 40, 40, 40, 41, 41, 41, 47, 47, 47, 49, 49, 50, 50, 50, 50, 50, 50, 50, 51, 51, 51, 51, 51, 51, 51, 54, 54, 54, 56, 56, 56, 56, 56, 57, 57, 57, 57, 57, 57, 57, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 58, 59, 59, 60, 60, 60, 60, 60, 60, 60, 60]}\nelse if (author=='Ouyang Xiu'){\n  a = [1, 4, 4, 5, 6, 20, 20, 21, 21, 21, 21, 21, 21, 21, 22, 22, 24, 25, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 29, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 36, 37, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 39, 39, 39, 39, 39, 42, 43, 43, 43, 44, 46, 47, 47, 47, 48, 48, 49, 49, 49, 49, 50, 50, 50, 61, 61, 62, 62, 62, 64, 64, 65]}\nelse if (author == 'Xin Qiji'){\n  a = [1, 15, 16, 18, 19, 23, 25, 26, 29, 31, 33, 34, 35, 36, 38, 39, 39, 39, 39, 39, 40, 40, 41, 41, 42, 43, 47, 47, 47, 48, 52, 52, 53, 53, 54, 54, 54, 54, 54, 55, 55, 55, 55, 55, 56, 56, 56, 57, 64, 65, 65, 66, 66, 67, 68, 68]\n}\nconsole.log(a)\n// And apply this function to data to get the bins\nvar bins = histogram(a);\n// Add the svg element to the body and set the dimensions and margins of the graph\ny.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\nthis.yAxis\n.transition()\n.duration(1000)\n.call(d3.axisLeft(y));\n\nthis.u = svg1\n  .selectAll(\"rect\")\n  .data(bins)\n\n  this.u.enter()\n  .append(\"rect\")\n  .attr(\"x\", 1)\n  .merge(this.u)\n  .transition()\n  .attr('height', (d)=>this.height1 - y(d.length))\n  .attr(\"transform\", function(d) { \n    return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n  })\n  .attr(\"width\", function(d) {\n    return x(d.x1) - x(d.x0) - 1})\n  .attr(\"fill\", \"#6495ED\")\n\n},\nupdatehist(){\n  this.g1_5.selectAll(\"*\").remove()\nlet self = this\nvar all_data = this.data\nvar age = []\nfor(var i=0, len=this.data.length-1; i<len; i++){\n  var d = this.data[i]\n  age.push(parseInt(d.properties.age))}\nvar svg1 = this.svg\nvar x = this.x\nvar y = this.y\n// The number of bins \nvar nBin=20\nvar histogram = d3\n  .histogram()\n  .domain(x.domain()) // then the domain of the graphic\n  .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n// And apply this function to data to get the bins\nvar bins = histogram(age);\n// Add the svg element to the body and set the dimensions and margins of the graph\ny.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\nthis.yAxis\n.transition()\n.duration(1000)\n.call(d3.axisLeft(y));\n\nthis.u = svg1\n  .selectAll(\"rect\")\n  .data(bins)\n\n  this.u.enter()\n  .append(\"rect\")\n  .attr(\"x\", 1)\n  .merge(this.u)\n  .transition()\n  .attr('height', (d)=>this.height1 - y(d.length))\n  .attr(\"transform\", function(d) { \n    return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n  })\n  .attr(\"width\", function(d) {\n    return x(d.x1) - x(d.x0) - 1})\n  .attr(\"fill\", \"#6495ED\")\n  .attr(\"id\",function(d,i){\n    return [18+i*2,i]\n  })\nvar se = []\nvar vertices = []\nfor (i = 0, len = bins.length; i < len; i++) {\n  d = bins[i]\n  se.push({'coordinates':[x(d.x0),y(d.length)]})\n  if(y(d.length)<245){\n    vertices.push(i)\n  }\n}\nself.vertices = se\nself.GLOBAL.Visual_state['Hist']['overall'] = se\nself.GLOBAL.Visual_state['Hist']['visit'] = []\n\nvar select_age_by_column = []\nthis.u.on(\"click\",function(){\n    var that = this\n    var age = that.id.split(\",\")[0]\n    console.log('age11',that.id)\n    var index = that.id.split(\",\")[1]\n    self.GLOBAL.New_time = new Date().getTime()/1000\n    if((self.GLOBAL.New_time-self.GLOBAL.Old_time)>1){\n    self.GLOBAL.Visual_state['Hist']['visit'].push([age,index])\n    Bus.$emit(\"change\", self.GLOBAL.Visual_state['Hist'])\n    self.GLOBAL.Log_file.push(['timestamp',self.GLOBAL.New_time,\"click-hist-index\",index,'\\n'])\n    self.postInteraction({'name':self.GLOBAL.Log_file})\n    self.GLOBAL.Old_time = self.GLOBAL.New_time}\n    select_age_by_column = parseInt(age)\n    console.log('select_age_by_column',select_age_by_column)\n    d3.select(that)\n    .transition()\n    .duration(500)\n    .attr(\"fill\", \"orange\");\nvar select_data_from_hist = []\nfor(i=0, len=all_data.length-1; i<len; i++){\n  d = parseInt(all_data[i].properties.age)\n    if(d<select_age_by_column+2){\n      if (d>parseInt(select_age_by_column)-1){\n      select_data_from_hist.push(all_data[i])\n    }}\n  }\nconsole.log('age',select_age_by_column)\nBus.$emit(\"Hist_select_data\", select_data_from_hist)\nconsole.log('select_data_from_hist',select_data_from_hist)\n})\nthis.u.on(\"mouseout\", function(){\n  d3.select(this)\n    .transition()\n    .duration(500)\n    .attr(\"fill\", \"#6495ED\");\n})\n},\nGet_Predict(predict_all){\n  \n  this.g1_5.selectAll(\"*\").remove()\n  for(var i in predict_all){\n    var predict = predict_all[i]\n    var position = predict['Behavior']\n    if (predict['type']=='Click'){\n      if(predict['Object_View']=='Hist'){\n        console.log('herehere')\n        var number = position['number']\n        console.log('number',number)\n        var dist = 0\n        var min_dist = Number.POSITIVE_INFINITY\n        var diss = 0\n        console.log('this.vertices',this.vertices)\n        for(i in this.vertices){\n          var d = this.vertices[i].coordinates[0]/15.234\n          console.log('d',d)\n          dist = (number-d)**2\n          if (dist<min_dist){\n            diss = this.vertices[i].coordinates\n            min_dist = dist\n          }\n        }\n        console.log('diss',diss)\n        if(diss[1]!=245){\n        this.g1_5.append(\"path\")\n        .attr(\"d\", d3.symbol().type(d3.symbolStar).size(100))\n        .attr(\"fill\", \"orange\")\n        .attr(\"transform\",\"translate(\"+diss[0]+\",\"+diss[1]+\")\")\n\n        }\n\n  /*\n  .attr('cx', diss*15.2)\n  .attr('cy', 245)\n  .attr('r', 7)\n  .attr('stroke', 'black')\n  .attr(\"stroke-width\",'4px')\n  .attr(\"opacity\",1)\n  .attr('fill', '#69a3b2');\n*/\n\n\n      }\n\n}\n}\n}\n}}\n\n</script>"]}]}