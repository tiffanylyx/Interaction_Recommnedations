{"remainingRequest":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/src/components/Hist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/src/components/Hist.vue","mtime":1615790844794},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/museum_vis/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKaW1wb3J0IEJ1cyBmcm9tICcuLi9hc3NldHMvYnVzLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGRhdGE6dW5kZWZpbmVkLAogICAgICBzdmc6dW5kZWZpbmVkLAogICAgICB4OnVuZGVmaW5lZCwKICAgICAgeTp1bmRlZmluZWQsCiAgICAgIHlBeGlzOnVuZGVmaW5lZCwKICAgICAgdTp1bmRlZmluZWQsCiAgICAgIGhlaWdodDE6dW5kZWZpbmVkLAogICAgICBzZWxlY3RfZGF0YV9mcm9tX2hpc3Q6dW5kZWZpbmVkCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICBCdXMuJG9uKCJNYXBfc2VsZWN0X2RhdGEiLCAodmFsKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB2YWw7fSl9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdlbmVyYXRlSGlzdCgpOwogICAgdGhpcy5oYW5kbGUoKQogIH0sCiAgLy93YXRjaDp7aGFuZGxlKG5ld3ZhbCl7CiAgICAvL3RoaXMuYWdlPW5ld3ZhbCwKICAgIC8vdGhpcy5nZW5lcmF0ZUhpc3QoKX19LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZTogZnVuY3Rpb24gKCkgewogICAgQnVzLiRvbigiTWFwX3NlbGVjdF9kYXRhIiwgKHZhbCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdmFsOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVoaXN0KCkKICAgICAgICAgICAgICB9KX0sCiAgICBnZW5lcmF0ZUhpc3QoKSB7CiAgICAgIC8vbGV0IGFnZSA9IHRoaXMuJHJvb3QuYWdlX3NlbGVjdAogICAgICB2YXIgbWluID0gMTk7CiAgICAgIHZhciBtYXggPSA2NzsKICAgICAgdmFyIGRvbWFpbiA9IFttaW4sbWF4XTsKICAgICAgdmFyIGEgPSBbMTksMTksMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjAsMjEsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjMsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjQsMjUsMjUsMjUsMjUsMjUsMjUsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjYsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjcsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjgsMjksMjksMjksMjksMjksMzAsMzAsMzAsMzAsMzAsMzEsMzEsMzEsMzEsMzEsMzEsMzEsMzEsMzIsMzIsMzIsMzIsMzIsMzIsMzIsMzIsMzMsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzUsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzYsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzcsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsMzgsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDEsNDIsNDIsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDMsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDQsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDUsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDYsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDcsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDgsNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNDksNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTMsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTUsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTYsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTcsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTgsNTksNTksNTksNTksNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjEsNjIsNjIsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjQsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjVdCiAgICAgIHZhciBtYXJnaW4gPSB7IHRvcDogMCwgcmlnaHQ6IDEwLCBib3R0b206IDMwLCBsZWZ0OiAyMCB9LAogICAgICAgIHdpZHRoMSA9IDQwMCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0CiAgICAgIHRoaXMuaGVpZ2h0MSA9IDI4MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwogICAgICBjb25zdCBzdmcxID0gZDMKICAgICAgICAuc2VsZWN0KCIjaGlzdCIpCiAgICAgICAgLmFwcGVuZCgic3ZnIikKICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aDEgKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkKICAgICAgICAuYXR0cigiaGVpZ2h0IiwgdGhpcy5oZWlnaHQxICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIG1hcmdpbi5sZWZ0ICsgIiwiICsgbWFyZ2luLnRvcCArICIpIik7CiAgICAgICAgdmFyIHggPSBkMwogICAgICAgICAgLnNjYWxlTGluZWFyKCkKICAgICAgICAgIC5kb21haW4oZG9tYWluKSAKICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGgxXSk7IAogICAgICAgIAogICAgICAgIHN2ZzEuYXBwZW5kKCJnIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArIHRoaXMuaGVpZ2h0MSArICIpIikKICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpOwogICAgICAgICAgLy8gWSBheGlzOiBpbml0aWFsaXphdGlvbgogICAgICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgICAgLnJhbmdlKFt0aGlzLmhlaWdodDEsIDBdKTsKICAgICAgICB0aGlzLnlBeGlzID0gc3ZnMS5hcHBlbmQoImciKQogICAgICAgIHZhciBuQmluPTI0CiAgICAgICAgdmFyIGhpc3RvZ3JhbSA9IGQzCiAgICAgICAgICAuaGlzdG9ncmFtKCkKICAgICAgICAgIC5kb21haW4oeC5kb21haW4oKSkgLy8gdGhlbiB0aGUgZG9tYWluIG9mIHRoZSBncmFwaGljCiAgICAgICAgICAudGhyZXNob2xkcyh4LnRpY2tzKG5CaW4pKTsgLy8gdGhlbiB0aGUgbnVtYmVycyBvZiBiaW5zCgogICAgICAgIC8vIEFuZCBhcHBseSB0aGlzIGZ1bmN0aW9uIHRvIGRhdGEgdG8gZ2V0IHRoZSBiaW5zCiAgICAgICAgdmFyIGJpbnMgPSBoaXN0b2dyYW0oYSk7CiAgICAgICAgLy8gQWRkIHRoZSBzdmcgZWxlbWVudCB0byB0aGUgYm9keSBhbmQgc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBncmFwaAoKICAgICAgICB5LmRvbWFpbihbMCwgZDMubWF4KGJpbnMsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGVuZ3RoOyB9KV0pOyAgIC8vIGQzLmhpc3QgaGFzIHRvIGJlIGNhbGxlZCBiZWZvcmUgdGhlIFkgYXhpcyBvYnZpb3VzbHkKICAgICAgICB0aGlzLnlBeGlzCiAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgIC5kdXJhdGlvbigxMDAwKQogICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKICAgICAgICB0aGlzLnUgPSBzdmcxCiAgICAgICAgICAuc2VsZWN0QWxsKCJyZWN0IikKICAgICAgICAgIC5kYXRhKGJpbnMpCgogICAgICAgIHRoaXMudS5lbnRlcigpCiAgICAgICAgICAuYXBwZW5kKCJyZWN0IikKICAgICAgICAgIC5hdHRyKCJ4IiwgMSkKICAgICAgICAgIC5tZXJnZSh0aGlzLnUpCiAgICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgKGQpPT50aGlzLmhlaWdodDEgLSB5KGQubGVuZ3RoKSkKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7IAogICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgeChkLngwKSArICIsIiArIHkoZC5sZW5ndGgpICsgIikiOyAKICAgICAgICAgIH0pCiAgICAgICAgICAuYXR0cigid2lkdGgiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIHJldHVybiB4KGQueDEpIC0geChkLngwKSAtIDF9KQogICAgICAgICAgLmF0dHIoImZpbGwiLCAiIzY0OTVFRCIpCiAgICAgICAgICB0aGlzLnggPSB4CiAgICAgICAgICB0aGlzLnkgPSB5CiAgICAgICAgICB0aGlzLnN2ZyA9IHN2ZzF9LCAKdXBkYXRlaGlzdCgpewpsZXQgc2VsZiA9IHRoaXMKdmFyIGFsbF9kYXRhID0gdGhpcy5kYXRhCnZhciBhZ2UgPSBbXQpmb3IodmFyIGk9MCwgbGVuPXRoaXMuZGF0YS5sZW5ndGgtMTsgaTxsZW47IGkrKyl7CiAgdmFyIGQgPSB0aGlzLmRhdGFbaV0KICBhZ2UucHVzaChwYXJzZUludChkLnByb3BlcnRpZXMuYWdlKSl9CnZhciBzdmcxID0gdGhpcy5zdmcKdmFyIHggPSB0aGlzLngKdmFyIHkgPSB0aGlzLnkKdmFyIHZpc2l0ZWQgPSBbXQovLyBUaGUgbnVtYmVyIG9mIGJpbnMgCnZhciBuQmluPTI0CnZhciBoaXN0b2dyYW0gPSBkMwogIC5oaXN0b2dyYW0oKQogIC5kb21haW4oeC5kb21haW4oKSkgLy8gdGhlbiB0aGUgZG9tYWluIG9mIHRoZSBncmFwaGljCiAgLnRocmVzaG9sZHMoeC50aWNrcyhuQmluKSk7IC8vIHRoZW4gdGhlIG51bWJlcnMgb2YgYmlucwoKLy8gQW5kIGFwcGx5IHRoaXMgZnVuY3Rpb24gdG8gZGF0YSB0byBnZXQgdGhlIGJpbnMKdmFyIGJpbnMgPSBoaXN0b2dyYW0oYWdlKTsKLy8gQWRkIHRoZSBzdmcgZWxlbWVudCB0byB0aGUgYm9keSBhbmQgc2V0IHRoZSBkaW1lbnNpb25zIGFuZCBtYXJnaW5zIG9mIHRoZSBncmFwaAp5LmRvbWFpbihbMCwgZDMubWF4KGJpbnMsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGVuZ3RoOyB9KV0pOyAgIC8vIGQzLmhpc3QgaGFzIHRvIGJlIGNhbGxlZCBiZWZvcmUgdGhlIFkgYXhpcyBvYnZpb3VzbHkKdGhpcy55QXhpcwoudHJhbnNpdGlvbigpCi5kdXJhdGlvbigxMDAwKQouY2FsbChkMy5heGlzTGVmdCh5KSk7Cgp0aGlzLnUgPSBzdmcxCiAgLnNlbGVjdEFsbCgicmVjdCIpCiAgLmRhdGEoYmlucykKCiAgdGhpcy51LmVudGVyKCkKICAuYXBwZW5kKCJyZWN0IikKICAuYXR0cigieCIsIDEpCiAgLm1lcmdlKHRoaXMudSkKICAudHJhbnNpdGlvbigpCiAgLmF0dHIoJ2hlaWdodCcsIChkKT0+dGhpcy5oZWlnaHQxIC0geShkLmxlbmd0aCkpCiAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uKGQpIHsgCiAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgeChkLngwKSArICIsIiArIHkoZC5sZW5ndGgpICsgIikiOyAKICB9KQogIC5hdHRyKCJ3aWR0aCIsIGZ1bmN0aW9uKGQpIHsKICAgIHJldHVybiB4KGQueDEpIC0geChkLngwKSAtIDF9KQogIC5hdHRyKCJmaWxsIiwgIiM2NDk1RUQiKQogIC5hdHRyKCJpZCIsZnVuY3Rpb24oZCxpKXsKICAgIHJldHVybiBbMTkraSooNjctMTkpLzI0LGldCiAgfSkKdmFyIHNlID0gW10KZm9yIChpID0gMCwgbGVuID0gYmlucy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogIGQgPSBiaW5zW2ldCiAgc2UucHVzaCh7J2Nvb3JkaW5hdGVzJzpbeChkLngwKSx5KGQubGVuZ3RoKV19KQp9CnNlbGYuR0xPQkFMLlZpc3VhbF9zdGF0ZVsnSGlzdCddWydvdmVyYWxsJ10gPSBzZQpzZWxmLkdMT0JBTC5WaXN1YWxfc3RhdGVbJ0hpc3QnXVsndmlzaXQnXSA9IFtdCi8vQnVzLiRlbWl0KCJjaGFuZ2UiLCBzZWxmLkdMT0JBTC5WaXN1YWxfc3RhdGUpCnZhciBzZWxlY3RfYWdlX2J5X2NvbHVtbiA9IFtdCnRoaXMudS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7CiAgICB2YXIgdGhhdCA9IHRoaXMKICAgIHZhciBhZ2UgPSB0aGF0LmlkLnNwbGl0KCIsIilbMF0KICAgIHZhciBpbmRleCA9IHRoYXQuaWQuc3BsaXQoIiwiKVsxXQogICAgc2VsZi5HTE9CQUwuTmV3X3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKS8xMDAwCiAgICBpZigoc2VsZi5HTE9CQUwuTmV3X3RpbWUtc2VsZi5HTE9CQUwuT2xkX3RpbWUpPjEpewogICAgdmlzaXRlZC5wdXNoKFthZ2UsaW5kZXhdKQogICAgc2VsZi5HTE9CQUwuVmlzdWFsX3N0YXRlWydIaXN0J11bJ3Zpc2l0J10gPSB2aXNpdGVkCiAgICBCdXMuJGVtaXQoImNoYW5nZSIsIHNlbGYuR0xPQkFMLlZpc3VhbF9zdGF0ZSkKICAgIHNlbGYuR0xPQkFMLkxvZ19maWxlLnB1c2goWyd0aW1lc3RhbXAnLHNlbGYuR0xPQkFMLk5ld190aW1lLCJjbGljay1oaXN0LWluZGV4IixpbmRleCwnXG4nXSkKICAgIHNlbGYucG9zdEludGVyYWN0aW9uKHsnbmFtZSc6c2VsZi5HTE9CQUwuTG9nX2ZpbGV9KQogICAgc2VsZi5HTE9CQUwuT2xkX3RpbWUgPSBzZWxmLkdMT0JBTC5OZXdfdGltZX0KICAgIHNlbGVjdF9hZ2VfYnlfY29sdW1uLnB1c2goYWdlKQogICAgZDMuc2VsZWN0KHRoYXQpCiAgICAudHJhbnNpdGlvbigpCiAgICAuZHVyYXRpb24oNTAwKQogICAgLmF0dHIoImZpbGwiLCAib3JhbmdlIik7CnZhciBzZWxlY3RfZGF0YV9mcm9tX2hpc3QgPSBbXQpmb3IoaT0wLCBsZW49YWxsX2RhdGEubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogIGQgPSBwYXJzZUludChhbGxfZGF0YVtpXS5wcm9wZXJ0aWVzLmFnZSkKICBmb3IodmFyIGo9MCxsZW4yPXNlbGVjdF9hZ2VfYnlfY29sdW1uLmxlbmd0aDtqPGxlbjI7aisrKXsKICAgIGlmKGQtMjxzZWxlY3RfYWdlX2J5X2NvbHVtbltqXSl7CiAgICAgIGlmIChkPnNlbGVjdF9hZ2VfYnlfY29sdW1uW2pdLTEpewogICAgICBzZWxlY3RfZGF0YV9mcm9tX2hpc3QucHVzaChhbGxfZGF0YVtpXSkKICAgIH19CiAgfX0KQnVzLiRlbWl0KCJIaXN0X3NlbGVjdF9kYXRhIiwgc2VsZWN0X2RhdGFfZnJvbV9oaXN0KQp9KQp9fQp9Cg=="},{"version":3,"sources":["Hist.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hist.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */\n<template>\n  <div id=\"hist\">\n     <p>\n      <h4>  Distribution of visit against age</h4>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport Bus from '../assets/bus.js';\n\nexport default {\n  name: \"App\",\n  data(){\n    return{\n      data:undefined,\n      svg:undefined,\n      x:undefined,\n      y:undefined,\n      yAxis:undefined,\n      u:undefined,\n      height1:undefined,\n      select_data_from_hist:undefined\n    }\n  },\n  created(){\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;})},\n  mounted() {\n    this.generateHist();\n    this.handle()\n  },\n  //watch:{handle(newval){\n    //this.age=newval,\n    //this.generateHist()}},\n  methods: {\n    handle: function () {\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val;\n                this.updatehist()\n              })},\n    generateHist() {\n      //let age = this.$root.age_select\n      var min = 19;\n      var max = 67;\n      var domain = [min,max];\n      var a = [19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,30,30,30,30,30,31,31,31,31,31,31,31,31,32,32,32,32,32,32,32,32,33,35,35,35,35,35,35,35,35,35,35,35,35,35,35,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,41,41,41,41,41,41,41,41,41,41,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,53,53,53,53,53,53,53,53,53,53,53,53,53,55,55,55,55,55,55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56,56,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,61,61,61,61,61,61,61,61,61,61,62,62,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65]\n      var margin = { top: 0, right: 10, bottom: 30, left: 20 },\n        width1 = 400 - margin.left - margin.right\n      this.height1 = 280 - margin.top - margin.bottom;\n      const svg1 = d3\n        .select(\"#hist\")\n        .append(\"svg\")\n        .attr(\"width\", width1 + margin.left + margin.right)\n        .attr(\"height\", this.height1 + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        var x = d3\n          .scaleLinear()\n          .domain(domain) \n          .range([0, width1]); \n        \n        svg1.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.height1 + \")\")\n          .call(d3.axisBottom(x));\n          // Y axis: initialization\n        var y = d3.scaleLinear()\n          .range([this.height1, 0]);\n        this.yAxis = svg1.append(\"g\")\n        var nBin=24\n        var histogram = d3\n          .histogram()\n          .domain(x.domain()) // then the domain of the graphic\n          .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n        // And apply this function to data to get the bins\n        var bins = histogram(a);\n        // Add the svg element to the body and set the dimensions and margins of the graph\n\n        y.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n        this.yAxis\n        .transition()\n        .duration(1000)\n        .call(d3.axisLeft(y));\n        this.u = svg1\n          .selectAll(\"rect\")\n          .data(bins)\n\n        this.u.enter()\n          .append(\"rect\")\n          .attr(\"x\", 1)\n          .merge(this.u)\n          .transition()\n          .attr(\"height\", (d)=>this.height1 - y(d.length))\n          .attr(\"transform\", function(d) { \n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n          })\n          .attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1})\n          .attr(\"fill\", \"#6495ED\")\n          this.x = x\n          this.y = y\n          this.svg = svg1}, \nupdatehist(){\nlet self = this\nvar all_data = this.data\nvar age = []\nfor(var i=0, len=this.data.length-1; i<len; i++){\n  var d = this.data[i]\n  age.push(parseInt(d.properties.age))}\nvar svg1 = this.svg\nvar x = this.x\nvar y = this.y\nvar visited = []\n// The number of bins \nvar nBin=24\nvar histogram = d3\n  .histogram()\n  .domain(x.domain()) // then the domain of the graphic\n  .thresholds(x.ticks(nBin)); // then the numbers of bins\n\n// And apply this function to data to get the bins\nvar bins = histogram(age);\n// Add the svg element to the body and set the dimensions and margins of the graph\ny.domain([0, d3.max(bins, function(d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\nthis.yAxis\n.transition()\n.duration(1000)\n.call(d3.axisLeft(y));\n\nthis.u = svg1\n  .selectAll(\"rect\")\n  .data(bins)\n\n  this.u.enter()\n  .append(\"rect\")\n  .attr(\"x\", 1)\n  .merge(this.u)\n  .transition()\n  .attr('height', (d)=>this.height1 - y(d.length))\n  .attr(\"transform\", function(d) { \n    return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; \n  })\n  .attr(\"width\", function(d) {\n    return x(d.x1) - x(d.x0) - 1})\n  .attr(\"fill\", \"#6495ED\")\n  .attr(\"id\",function(d,i){\n    return [19+i*(67-19)/24,i]\n  })\nvar se = []\nfor (i = 0, len = bins.length; i < len; i++) {\n  d = bins[i]\n  se.push({'coordinates':[x(d.x0),y(d.length)]})\n}\nself.GLOBAL.Visual_state['Hist']['overall'] = se\nself.GLOBAL.Visual_state['Hist']['visit'] = []\n//Bus.$emit(\"change\", self.GLOBAL.Visual_state)\nvar select_age_by_column = []\nthis.u.on(\"click\",function(){\n    var that = this\n    var age = that.id.split(\",\")[0]\n    var index = that.id.split(\",\")[1]\n    self.GLOBAL.New_time = new Date().getTime()/1000\n    if((self.GLOBAL.New_time-self.GLOBAL.Old_time)>1){\n    visited.push([age,index])\n    self.GLOBAL.Visual_state['Hist']['visit'] = visited\n    Bus.$emit(\"change\", self.GLOBAL.Visual_state)\n    self.GLOBAL.Log_file.push(['timestamp',self.GLOBAL.New_time,\"click-hist-index\",index,'\\n'])\n    self.postInteraction({'name':self.GLOBAL.Log_file})\n    self.GLOBAL.Old_time = self.GLOBAL.New_time}\n    select_age_by_column.push(age)\n    d3.select(that)\n    .transition()\n    .duration(500)\n    .attr(\"fill\", \"orange\");\nvar select_data_from_hist = []\nfor(i=0, len=all_data.length-1; i<len; i++){\n  d = parseInt(all_data[i].properties.age)\n  for(var j=0,len2=select_age_by_column.length;j<len2;j++){\n    if(d-2<select_age_by_column[j]){\n      if (d>select_age_by_column[j]-1){\n      select_data_from_hist.push(all_data[i])\n    }}\n  }}\nBus.$emit(\"Hist_select_data\", select_data_from_hist)\n})\n}}\n}\n</script>"]}]}