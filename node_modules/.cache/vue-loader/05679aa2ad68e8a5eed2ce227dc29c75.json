{"remainingRequest":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/src/components/Force.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/src/components/Force.vue","mtime":1610524869889},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/study/大四上/Vis/vue_practice/hello-world/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKaW1wb3J0ICogYXMgdG9wb2pzb24gZnJvbSAidG9wb2pzb24iCmltcG9ydCBCdXMgZnJvbSAnLi4vYXNzZXRzL2J1cy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBkYXRhOnVuZGVmaW5lZCwKICAgICAgcGxhY2U6W10sCiAgICAgIGFsbF9wbGFjZXM6e30sCiAgICAgIHN2ZzI6dW5kZWZpbmVkLAogICAgICB3aWR0aDIgOnVuZGVmaW5lZCwKICAgICAgaGVpZ2h0MiA6IHVuZGVmaW5lZCwKICAgICAgSGlzdF9zZWxlY3RfZGF0YTonJywKICAgICAgbm9kZUVsZW1lbnRzOnVuZGVmaW5lZAogICAgfQogIH0sCiAgLy9jcmVhdGVkKCl7CiAgICAvL0J1cy4kb24oIk1hcF9wbGFjZSIsICh2YWwpID0+IHsKICAgICAgICAgICAgICAgIC8vdGhpcy5wbGFjZSA9IHZhbDt9KSwKICAgIC8vQnVzLiRvbigiTWFwX3BsYWNlcyIsICh2YWwpID0+IHsKICAgICAgICAgICAgICAgIC8vdGhpcy5wbGFjZXMgPSB2YWw7fSl9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdlbmVyYXRlRm9yY2UoKQogICAgdGhpcy5oYW5kbGUoKQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlOiBmdW5jdGlvbiAoKSB7CiAgICBCdXMuJG9uKCJNYXBfc2VsZWN0X2RhdGEiLCAodmFsKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB2YWwKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRm9yY2UoKQogICAgICAgICAgICAgIH0pLAogICAgQnVzLiRvbigiSGlzdF9zZWxlY3RfZGF0YSIsICh2YWwpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuSGlzdF9zZWxlY3RfZGF0YSA9IHZhbAogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RfbmV3X3BvaW50KCkKICAgICAgICAgICAgICB9KQogIH0sCiAgICBnZW5lcmF0ZUZvcmNlKCkgewp2YXIgZGF0YV9wbGFjZSA9IFtdCnZhciB3aWR0aDIgPSA1MDAsCiAgICBoZWlnaHQyID0gMzIwOwp0aGlzLndpZHRoMiA9IHdpZHRoMgp0aGlzLmhlaWdodDIgPSBoZWlnaHQyCmNvbnN0IHN2ZzIgPSBkMy5zZWxlY3QoIiNmb3JjZSIpLmFwcGVuZCgic3ZnIikKCiAgc3ZnMi5hdHRyKCJ3aWR0aCIsIHdpZHRoMikKICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQyKTsKCi8vIGNlbnRlciBtYXJrZXIKc3ZnMi5hcHBlbmQoJ2NpcmNsZScpCiAgICAuYXR0cigncicsIDUpCiAgICAuYXR0cignY3gnLCB3aWR0aDIgLyAyKQogICAgLmF0dHIoJ2N5JywgaGVpZ2h0MiAvIDIpOwp0aGlzLnN2ZzIgPSBzdmcyCmxldCBzZWxmID0gdGhpcwpkMy5qc29uKCJzdXNoaV9tYXAuanNvbiIsIGZ1bmN0aW9uKGVycm9yLCBwb2ludCkgewogIGNvbnN0IHBsYWNlc19hbGwgPSB0b3BvanNvbi5mZWF0dXJlKHBvaW50LCBwb2ludC5vYmplY3RzLnBsYWNlcykKCnZhciBub2RlcyA9IFtdCnZhciBsaW5rcz1bXQogICAgZm9yKHZhciBpPTAsIGxlbj1kYXRhX3BsYWNlLmxlbmd0aDtpPGxlbjtpKyspewogICAgICAgIG5vZGVzLnB1c2goeyJuYW1lIjpkYXRhX3BsYWNlW2ldfSkKICAgICAgfQogICAgZm9yKGk9MSwgbGVuPXBsYWNlc19hbGwuZmVhdHVyZXMubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogICAgLy8gKG5vdGU6IGxvb3AgdW50aWwgbGVuZ3RoIC0gMSBzaW5jZSB3ZSdyZSBnZXR0aW5nIHRoZSBuZXh0CiAgICAvLyAgaXRlbSB3aXRoIGkrMSkKICAgIHZhciBwbGFjZTEgPSBwbGFjZXNfYWxsLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMubmFtZS50b1N0cmluZygpCiAgICB2YXIgcGxhY2UyID0gcGxhY2VzX2FsbC5mZWF0dXJlc1tpKzFdLnByb3BlcnRpZXMubmFtZS50b1N0cmluZygpCiAgICAvLyBpZiAoKHBsYWNlMSBpbiBkYXRhKSYmKHBsYWNlMiBpbiBkYXRhKSl7CiAgICB2YXIgYSA9IGNoZWNrX2luKGRhdGFfcGxhY2UsIHBsYWNlMSkKICAgIHZhciBiID0gY2hlY2tfaW4oZGF0YV9wbGFjZSwgcGxhY2UyKQogICAgaWYoKGE9PSJUUlVFIikgJiYgKGI9PSJUUlVFIikpewogICAgICB2YXIgaW5kZXgxID0gZGF0YV9wbGFjZS5maW5kSW5kZXgoY2hlY2tfZXF1YWwxKQogICAgICB2YXIgaW5kZXgyID0gZGF0YV9wbGFjZS5maW5kSW5kZXgoY2hlY2tfZXF1YWwyKQogICAgICBsaW5rcy5wdXNoKHsic291cmNlIjogaW5kZXgxLCAidGFyZ2V0IjogaW5kZXgyfSkKICAgIH0KfQpmdW5jdGlvbiBjaGVja19lcXVhbDEocGxhY2Upe3JldHVybiBwbGFjZS50b1N0cmluZygpPT1wbGFjZTF9CmZ1bmN0aW9uIGNoZWNrX2VxdWFsMihwbGFjZSl7cmV0dXJuIHBsYWNlLnRvU3RyaW5nKCk9PXBsYWNlMn0KZnVuY3Rpb24gY2hlY2tfaW4oZGF0YSwgcGxhY2UpewogIGZvcih2YXIgaT0wLCBsZW49cGxhY2VzX2FsbC5mZWF0dXJlcy5sZW5ndGgtMTsgaTxsZW47IGkrKyl7CiAgICB2YXIgZCA9IGRhdGFbaV0KICAgIGlmKGQ9PSBwbGFjZSl7CiAgICAgIHJldHVybiAnVFJVRScKICAgIH19CiAgcmV0dXJuICdGYWxzZScKfQp2YXIgbGlua0VsZW1lbnRzID0gc3ZnMi5zZWxlY3RBbGwoKQogICAgICAgIC5kYXRhKGxpbmtzKQogICAgICAgIC5lbnRlcigpCiAgICAgICAgLmFwcGVuZCgnbGluZScpCiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpCiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcycHgnKTsKc2VsZi5ub2RlRWxlbWVudHMgPSBzdmcyLnNlbGVjdEFsbCgpCiAgICAgICAgLmRhdGEobm9kZXMpCiAgICAgICAgLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKQogICAgICAgIC5hdHRyKCdyJywgMTApCiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAncmVkJykKICAgICAgICAuY2FsbChkMy5kcmFnKCkKICAgICAgICAgICAgICAub24oJ3N0YXJ0JywgZHJhZ3N0YXJ0ZWQpCiAgICAgICAgICAgICAgLm9uKCdkcmFnJywgZHJhZ2dlZCkKICAgICAgICAgICAgICAub24oJ2VuZCcsIGRyYWdlbmRlZCkpOwp2YXIgdGV4dEVsZW1lbnRzID0gc3ZnMi5zZWxlY3RBbGwoKQogIC5kYXRhKG5vZGVzKQogIC5lbnRlcigpLmFwcGVuZCgndGV4dCcpCiAgICAudGV4dChub2RlID0+IG5vZGUubmFtZSkKICAgIC5hdHRyKCdmb250LXNpemUnLCAxNSkKICAgIC5hdHRyKCdkeCcsIDE1KQogICAgLmF0dHIoJ2R5JywgNCkKY29uc3Qgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbigpCiAgICAgICAgICAuZm9yY2UoJ2xpbmsnLCBkMy5mb3JjZUxpbmsoKS5kaXN0YW5jZSgxMDApKQogICAgICAgICAgLmZvcmNlKCdjaGFyZ2UnLCBkMy5mb3JjZU1hbnlCb2R5KCkpCiAgICAgICAgICAuZm9yY2UoJ2NlbnRlcicsIGQzLmZvcmNlQ2VudGVyKHdpZHRoMiAvIDIsIGhlaWdodDIgLyAyKSk7CgpzaW11bGF0aW9uCiAgICAubm9kZXMobm9kZXMpCiAgICAub24oJ3RpY2snLCAoKSA9PiB7CiAgbGlua0VsZW1lbnRzCiAgICAgICAgLmF0dHIoJ3gxJywgZCA9PiBkLnNvdXJjZS54KQogICAgICAgIC5hdHRyKCd5MScsIGQgPT4gZC5zb3VyY2UueSkKICAgICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpCiAgICAgICAgLmF0dHIoJ3kyJywgZCA9PiBkLnRhcmdldC55KQogIHNlbGYubm9kZUVsZW1lbnRzCiAgICAuYXR0cignY3gnLCBub2RlID0+IG5vZGUueCkKICAgIC5hdHRyKCdjeScsIG5vZGUgPT4gbm9kZS55KQogIHRleHRFbGVtZW50cwogICAgLmF0dHIoJ3gnLCBub2RlID0+IG5vZGUueCkKICAgIC5hdHRyKCd5Jywgbm9kZSA9PiBub2RlLnkpCn0pCgpzaW11bGF0aW9uCiAgICAuZm9yY2UoJ2xpbmsnKQogICAgLmxpbmtzKGxpbmtzKTsKCmZ1bmN0aW9uIGRyYWdzdGFydGVkKGQpIHsKICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMykucmVzdGFydCgpOwogICAgZC5meCA9IGQueDsKICAgIGQuZnkgPSBkLnk7Cn0KCmZ1bmN0aW9uIGRyYWdnZWQoZCkgewogICAgZC5meCA9IGQzLmV2ZW50Lng7CiAgICBkLmZ5ID0gZDMuZXZlbnQueTsKfQoKZnVuY3Rpb24gZHJhZ2VuZGVkKGQpIHsKICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgZC5meCA9IG51bGw7CiAgICBkLmZ5ID0gbnVsbDsKfQp9KX0sCnVwZGF0ZUZvcmNlKCl7CiAgbGV0IHNlbGYgPSB0aGlzCmZ1bmN0aW9uIHVuaXF1ZShhcnIpIHsKICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIGluZGV4LCBhcnIpIHsKICAgICAgLy8g5Y+W5Ye65YWD57SgLCDor6XlhYPntKDlnKjmlbDnu4TkuK3nrKzkuIDmrKHlh7rnjrDnmoTntKLlvJUgPT09IOW9k+WJjee0ouW8leWAvAogICAgICByZXR1cm4gYXJyLmluZGV4T2YoaXRlbSwgMCkgPT09IGluZGV4OwogICAgfSk7Cn0KZnVuY3Rpb24gY291bnRUaW1lcyhkYXRhKSB7CiAgICByZXR1cm4gZGF0YS5yZWR1Y2UoZnVuY3Rpb24odGltZSwgbmFtZSkgewogICAgICAgIGlmIChuYW1lIGluIHRpbWUpIHsKICAgICAgICAgICAgdGltZVtuYW1lXSsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRpbWVbbmFtZV0gPSAxOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGltZTsKICAgIH0sIHt9KTsKfQoKdmFyIGRhdGFfc2VsZWN0ID0gW10KdmFyIGRhdGFfc2VsZWN0MSA9IFtdCnZhciBwbGFjZV9jb3VudCA9IFtdCmZvcih2YXIgaT0wLCBsZW49dGhpcy5kYXRhLmxlbmd0aC0xOyBpPGxlbjsgaSsrKXsKICB2YXIgZCA9IHRoaXMuZGF0YVtpXQogIGRhdGFfc2VsZWN0MS5wdXNoKGQucHJvcGVydGllcy5uYW1lLnRvU3RyaW5nKCkpfQogIGRhdGFfc2VsZWN0ID0gdW5pcXVlKGRhdGFfc2VsZWN0MSkKICBwbGFjZV9jb3VudCA9IGNvdW50VGltZXMoZGF0YV9zZWxlY3QxKQp2YXIgbWF4X2NvdW50ID0gMApmb3IoaSBpbiBwbGFjZV9jb3VudCl7CiAgdmFyIGl0ZW0gPSBwbGFjZV9jb3VudFtpXTsKICBpZiAoaXRlbT5tYXhfY291bnQpewogICAgbWF4X2NvdW50ID0gaXRlbQogIH0KfQogIHZhciBoZWlnaHQyID0gdGhpcy5oZWlnaHQyCiAgdmFyIHdpZHRoMiA9IHRoaXMud2lkdGgyCiAgdmFyIHN2ZzIgPSB0aGlzLnN2ZzIKZDMuanNvbigic3VzaGlfbWFwLmpzb24iLCBmdW5jdGlvbihlcnJvciwgcG9pbnQpIHsKICBjb25zdCBwbGFjZXNfYWxsID0gdG9wb2pzb24uZmVhdHVyZShwb2ludCwgcG9pbnQub2JqZWN0cy5wbGFjZXMpCgogIHN2ZzIuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCk7CiAgc3ZnMi5hcHBlbmQoJ2NpcmNsZScpCiAgICAuYXR0cigncicsIDUpCiAgICAuYXR0cignY3gnLCB3aWR0aDIgLyAyKQogICAgLmF0dHIoJ2N5JywgaGVpZ2h0MiAvIDIpOwp2YXIgbm9kZXMgPSBbXQp2YXIgbGlua3M9W10KICAgIGZvcih2YXIgaT0wLCBsZW49ZGF0YV9zZWxlY3QubGVuZ3RoO2k8bGVuO2krKyl7CiAgICAgICAgbm9kZXMucHVzaCh7Im5hbWUiOmRhdGFfc2VsZWN0W2ldfSkKICAgICAgfQogICAgZm9yKGk9MSwgbGVuPXBsYWNlc19hbGwuZmVhdHVyZXMubGVuZ3RoLTE7IGk8bGVuOyBpKyspewogICAgLy8gKG5vdGU6IGxvb3AgdW50aWwgbGVuZ3RoIC0gMSBzaW5jZSB3ZSdyZSBnZXR0aW5nIHRoZSBuZXh0CiAgICAvLyAgaXRlbSB3aXRoIGkrMSkKICAgIHZhciBwbGFjZTEgPSBwbGFjZXNfYWxsLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMubmFtZS50b1N0cmluZygpCiAgICB2YXIgcGxhY2UyID0gcGxhY2VzX2FsbC5mZWF0dXJlc1tpKzFdLnByb3BlcnRpZXMubmFtZS50b1N0cmluZygpCiAgICAvLyBpZiAoKHBsYWNlMSBpbiBkYXRhKSYmKHBsYWNlMiBpbiBkYXRhKSl7CiAgICB2YXIgYSA9IGNoZWNrX2luKGRhdGFfc2VsZWN0LCBwbGFjZTEpCiAgICB2YXIgYiA9IGNoZWNrX2luKGRhdGFfc2VsZWN0LCBwbGFjZTIpCiAgICBpZigoYT09IlRSVUUiKSAmJiAoYj09IlRSVUUiKSl7CiAgICAgIHZhciBpbmRleDEgPSBkYXRhX3NlbGVjdC5maW5kSW5kZXgoY2hlY2tfZXF1YWwxKQogICAgICB2YXIgaW5kZXgyID0gZGF0YV9zZWxlY3QuZmluZEluZGV4KGNoZWNrX2VxdWFsMikKICAgICAgbGlua3MucHVzaCh7InNvdXJjZSI6IGluZGV4MSwgInRhcmdldCI6IGluZGV4Mn0pCiAgICB9fQpmdW5jdGlvbiBjaGVja19pbihkYXRhLCBwbGFjZSl7CiAgZm9yKHZhciBpPTAsIGxlbj1wbGFjZXNfYWxsLmZlYXR1cmVzLmxlbmd0aC0xOyBpPGxlbjsgaSsrKXsKICAgIHZhciBkID0gZGF0YVtpXQogICAgaWYoZD09IHBsYWNlKXsKICAgICAgcmV0dXJuICdUUlVFJwogICAgfX0KICByZXR1cm4gJ0ZhbHNlJwp9CnZhciBsaW5rRWxlbWVudHMgPSBzdmcyLnNlbGVjdEFsbCgpCiAgICAgICAgLmRhdGEobGlua3MpCiAgICAgICAgLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCdsaW5lJykKICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJykKICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgJzJweCcpOwpzZWxmLm5vZGVFbGVtZW50cyA9IHN2ZzIuc2VsZWN0QWxsKCkKICAgICAgICAuZGF0YShub2RlcykKICAgICAgICAuZW50ZXIoKQogICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpCiAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbihub2RlKXtyZXR1cm4gMTAqKHBsYWNlX2NvdW50W25vZGUubmFtZV0rNSkvKDUrbWF4X2NvdW50KX0pCiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzY0OTVFRCcpCiAgICAgICAgLmNhbGwoZDMuZHJhZygpCiAgICAgICAgICAgICAgLm9uKCdzdGFydCcsIGRyYWdzdGFydGVkKQogICAgICAgICAgICAgIC5vbignZHJhZycsIGRyYWdnZWQpCiAgICAgICAgICAgICAgLm9uKCdlbmQnLCBkcmFnZW5kZWQpKTsKdmFyIHRleHRFbGVtZW50cyA9IHN2ZzIuc2VsZWN0QWxsKCkKICAuZGF0YShub2RlcykKICAuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKQogICAgLnRleHQobm9kZSA9PiBub2RlLm5hbWUpCiAgICAuYXR0cignZm9udC1zaXplJywgMTApCiAgICAuYXR0cignZHgnLCA4KQogICAgLmF0dHIoJ2R5JywgNCkKCmNvbnN0IHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24oKQogICAgICAgICAgLmZvcmNlKCdsaW5rJywgZDMuZm9yY2VMaW5rKCkuZGlzdGFuY2UoMzApKQogICAgICAgICAgLmZvcmNlKCdjaGFyZ2UnLCBkMy5mb3JjZU1hbnlCb2R5KCkpCiAgICAgICAgICAuZm9yY2UoJ2NlbnRlcicsIGQzLmZvcmNlQ2VudGVyKHdpZHRoMiAvIDIsIGhlaWdodDIgLyAyKSk7CgpzaW11bGF0aW9uCiAgICAubm9kZXMobm9kZXMpCiAgICAub24oJ3RpY2snLCAoKSA9PiB7CiAgbGlua0VsZW1lbnRzCiAgICAgICAgLmF0dHIoJ3gxJywgZCA9PiBkLnNvdXJjZS54KQogICAgICAgIC5hdHRyKCd5MScsIGQgPT4gZC5zb3VyY2UueSkKICAgICAgICAuYXR0cigneDInLCBkID0+IGQudGFyZ2V0LngpCiAgICAgICAgLmF0dHIoJ3kyJywgZCA9PiBkLnRhcmdldC55KQogIHNlbGYubm9kZUVsZW1lbnRzCiAgICAuYXR0cignY3gnLCBub2RlID0+IG5vZGUueCkKICAgIC5hdHRyKCdjeScsIG5vZGUgPT4gbm9kZS55KQogIHRleHRFbGVtZW50cwogICAgLmF0dHIoJ3gnLCBub2RlID0+IG5vZGUueCkKICAgIC5hdHRyKCd5Jywgbm9kZSA9PiBub2RlLnkpCn0pCgpzaW11bGF0aW9uCiAgICAuZm9yY2UoJ2xpbmsnKQogICAgLmxpbmtzKGxpbmtzKTsKCmZ1bmN0aW9uIGRyYWdzdGFydGVkKGQpIHsKICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMykucmVzdGFydCgpOwogICAgZC5meCA9IGQueDsKICAgIGQuZnkgPSBkLnk7Cn0KCmZ1bmN0aW9uIGRyYWdnZWQoZCkgewogICAgZC5meCA9IGQzLmV2ZW50Lng7CiAgICBkLmZ5ID0gZDMuZXZlbnQueTsKfQoKZnVuY3Rpb24gZHJhZ2VuZGVkKGQpIHsKICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgZC5meCA9IG51bGw7CiAgICBkLmZ5ID0gbnVsbDsKfQpmdW5jdGlvbiBjaGVja19lcXVhbDEocGxhY2Upe3JldHVybiBwbGFjZS50b1N0cmluZygpPT1wbGFjZTF9CmZ1bmN0aW9uIGNoZWNrX2VxdWFsMihwbGFjZSl7cmV0dXJuIHBsYWNlLnRvU3RyaW5nKCk9PXBsYWNlMn19KQp9LApzZWxlY3RfbmV3X3BvaW50KCl7CiAgdmFyIGRhdGEgPSB0aGlzLkhpc3Rfc2VsZWN0X2RhdGEKICB0aGlzLm5vZGVFbGVtZW50cy5hdHRyKCdmaWxsJywgZnVuY3Rpb24oZCl7cmV0dXJuIGlzU2VsZWN0ZWRCeUhpc3QoZCl9KQpmdW5jdGlvbiBpc1NlbGVjdGVkQnlIaXN0KGEpewogIGZvcih2YXIgaT0wLGxlbj1kYXRhLmxlbmd0aDtpPGxlbjtpKyspewogICAgdmFyIHBsYWNlID0gZGF0YVtpXS5wcm9wZXJ0aWVzLm5hbWUKICAgICAgaWYoYS5uYW1lPT1wbGFjZSl7CiAgICAgICAgY29uc29sZS5sb2coJ2luJykKICAgICAgICByZXR1cm4gJyNCQzhGOEYnfQogICAgfQogIHJldHVybiAnIzY0OTVFRCd9Cgp9Cn19Cg=="},{"version":3,"sources":["Force.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Force.vue","sourceRoot":"src/components","sourcesContent":["/* eslint-disable */s\n<template>\n  <div id=\"force\">\n    <p>\n      <h4>Places connection</h4>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson\"\nimport Bus from '../assets/bus.js';\n\nexport default {\n  name: \"App\",\n  data(){\n    return{\n      data:undefined,\n      place:[],\n      all_places:{},\n      svg2:undefined,\n      width2 :undefined,\n      height2 : undefined,\n      Hist_select_data:'',\n      nodeElements:undefined\n    }\n  },\n  //created(){\n    //Bus.$on(\"Map_place\", (val) => {\n                //this.place = val;}),\n    //Bus.$on(\"Map_places\", (val) => {\n                //this.places = val;})},\n  mounted() {\n    this.generateForce()\n    this.handle()\n  },\n  methods: {\n    handle: function () {\n    Bus.$on(\"Map_select_data\", (val) => {\n                this.data = val\n                this.updateForce()\n              }),\n    Bus.$on(\"Hist_select_data\", (val) => {\n                this.Hist_select_data = val\n                this.select_new_point()\n              })\n  },\n    generateForce() {\nvar data_place = []\nvar width2 = 500,\n    height2 = 320;\nthis.width2 = width2\nthis.height2 = height2\nconst svg2 = d3.select(\"#force\").append(\"svg\")\n\n  svg2.attr(\"width\", width2)\n    .attr(\"height\", height2);\n\n// center marker\nsvg2.append('circle')\n    .attr('r', 5)\n    .attr('cx', width2 / 2)\n    .attr('cy', height2 / 2);\nthis.svg2 = svg2\nlet self = this\nd3.json(\"sushi_map.json\", function(error, point) {\n  const places_all = topojson.feature(point, point.objects.places)\n\nvar nodes = []\nvar links=[]\n    for(var i=0, len=data_place.length;i<len;i++){\n        nodes.push({\"name\":data_place[i]})\n      }\n    for(i=1, len=places_all.features.length-1; i<len; i++){\n    // (note: loop until length - 1 since we're getting the next\n    //  item with i+1)\n    var place1 = places_all.features[i].properties.name.toString()\n    var place2 = places_all.features[i+1].properties.name.toString()\n    // if ((place1 in data)&&(place2 in data)){\n    var a = check_in(data_place, place1)\n    var b = check_in(data_place, place2)\n    if((a==\"TRUE\") && (b==\"TRUE\")){\n      var index1 = data_place.findIndex(check_equal1)\n      var index2 = data_place.findIndex(check_equal2)\n      links.push({\"source\": index1, \"target\": index2})\n    }\n}\nfunction check_equal1(place){return place.toString()==place1}\nfunction check_equal2(place){return place.toString()==place2}\nfunction check_in(data, place){\n  for(var i=0, len=places_all.features.length-1; i<len; i++){\n    var d = data[i]\n    if(d== place){\n      return 'TRUE'\n    }}\n  return 'False'\n}\nvar linkElements = svg2.selectAll()\n        .data(links)\n        .enter()\n        .append('line')\n        .attr('stroke', 'black')\n        .attr('stroke-width', '2px');\nself.nodeElements = svg2.selectAll()\n        .data(nodes)\n        .enter()\n        .append('circle')\n        .attr('r', 10)\n        .attr('fill', 'red')\n        .call(d3.drag()\n              .on('start', dragstarted)\n              .on('drag', dragged)\n              .on('end', dragended));\nvar textElements = svg2.selectAll()\n  .data(nodes)\n  .enter().append('text')\n    .text(node => node.name)\n    .attr('font-size', 15)\n    .attr('dx', 15)\n    .attr('dy', 4)\nconst simulation = d3.forceSimulation()\n          .force('link', d3.forceLink().distance(100))\n          .force('charge', d3.forceManyBody())\n          .force('center', d3.forceCenter(width2 / 2, height2 / 2));\n\nsimulation\n    .nodes(nodes)\n    .on('tick', () => {\n  linkElements\n        .attr('x1', d => d.source.x)\n        .attr('y1', d => d.source.y)\n        .attr('x2', d => d.target.x)\n        .attr('y2', d => d.target.y)\n  self.nodeElements\n    .attr('cx', node => node.x)\n    .attr('cy', node => node.y)\n  textElements\n    .attr('x', node => node.x)\n    .attr('y', node => node.y)\n})\n\nsimulation\n    .force('link')\n    .links(links);\n\nfunction dragstarted(d) {\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n}\n\nfunction dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n}\n\nfunction dragended(d) {\n    if (!d3.event.active) simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n}\n})},\nupdateForce(){\n  let self = this\nfunction unique(arr) {\n    return arr.filter(function(item, index, arr) {\n      // 取出元素, 该元素在数组中第一次出现的索引 === 当前索引值\n      return arr.indexOf(item, 0) === index;\n    });\n}\nfunction countTimes(data) {\n    return data.reduce(function(time, name) {\n        if (name in time) {\n            time[name]++;\n        } else {\n            time[name] = 1;\n        }\n        return time;\n    }, {});\n}\n\nvar data_select = []\nvar data_select1 = []\nvar place_count = []\nfor(var i=0, len=this.data.length-1; i<len; i++){\n  var d = this.data[i]\n  data_select1.push(d.properties.name.toString())}\n  data_select = unique(data_select1)\n  place_count = countTimes(data_select1)\nvar max_count = 0\nfor(i in place_count){\n  var item = place_count[i];\n  if (item>max_count){\n    max_count = item\n  }\n}\n  var height2 = this.height2\n  var width2 = this.width2\n  var svg2 = this.svg2\nd3.json(\"sushi_map.json\", function(error, point) {\n  const places_all = topojson.feature(point, point.objects.places)\n\n  svg2.selectAll(\"*\").remove();\n  svg2.append('circle')\n    .attr('r', 5)\n    .attr('cx', width2 / 2)\n    .attr('cy', height2 / 2);\nvar nodes = []\nvar links=[]\n    for(var i=0, len=data_select.length;i<len;i++){\n        nodes.push({\"name\":data_select[i]})\n      }\n    for(i=1, len=places_all.features.length-1; i<len; i++){\n    // (note: loop until length - 1 since we're getting the next\n    //  item with i+1)\n    var place1 = places_all.features[i].properties.name.toString()\n    var place2 = places_all.features[i+1].properties.name.toString()\n    // if ((place1 in data)&&(place2 in data)){\n    var a = check_in(data_select, place1)\n    var b = check_in(data_select, place2)\n    if((a==\"TRUE\") && (b==\"TRUE\")){\n      var index1 = data_select.findIndex(check_equal1)\n      var index2 = data_select.findIndex(check_equal2)\n      links.push({\"source\": index1, \"target\": index2})\n    }}\nfunction check_in(data, place){\n  for(var i=0, len=places_all.features.length-1; i<len; i++){\n    var d = data[i]\n    if(d== place){\n      return 'TRUE'\n    }}\n  return 'False'\n}\nvar linkElements = svg2.selectAll()\n        .data(links)\n        .enter()\n        .append('line')\n        .attr('stroke', 'black')\n        .attr('stroke-width', '2px');\nself.nodeElements = svg2.selectAll()\n        .data(nodes)\n        .enter()\n        .append('circle')\n        .attr('r', function(node){return 10*(place_count[node.name]+5)/(5+max_count)})\n        .attr('fill', '#6495ED')\n        .call(d3.drag()\n              .on('start', dragstarted)\n              .on('drag', dragged)\n              .on('end', dragended));\nvar textElements = svg2.selectAll()\n  .data(nodes)\n  .enter().append('text')\n    .text(node => node.name)\n    .attr('font-size', 10)\n    .attr('dx', 8)\n    .attr('dy', 4)\n\nconst simulation = d3.forceSimulation()\n          .force('link', d3.forceLink().distance(30))\n          .force('charge', d3.forceManyBody())\n          .force('center', d3.forceCenter(width2 / 2, height2 / 2));\n\nsimulation\n    .nodes(nodes)\n    .on('tick', () => {\n  linkElements\n        .attr('x1', d => d.source.x)\n        .attr('y1', d => d.source.y)\n        .attr('x2', d => d.target.x)\n        .attr('y2', d => d.target.y)\n  self.nodeElements\n    .attr('cx', node => node.x)\n    .attr('cy', node => node.y)\n  textElements\n    .attr('x', node => node.x)\n    .attr('y', node => node.y)\n})\n\nsimulation\n    .force('link')\n    .links(links);\n\nfunction dragstarted(d) {\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n}\n\nfunction dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n}\n\nfunction dragended(d) {\n    if (!d3.event.active) simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n}\nfunction check_equal1(place){return place.toString()==place1}\nfunction check_equal2(place){return place.toString()==place2}})\n},\nselect_new_point(){\n  var data = this.Hist_select_data\n  this.nodeElements.attr('fill', function(d){return isSelectedByHist(d)})\nfunction isSelectedByHist(a){\n  for(var i=0,len=data.length;i<len;i++){\n    var place = data[i].properties.name\n      if(a.name==place){\n        console.log('in')\n        return '#BC8F8F'}\n    }\n  return '#6495ED'}\n\n}\n}}\n</script>\n\n<style>\n\n.selected{\n  fill: yellow;\n}"]}]}